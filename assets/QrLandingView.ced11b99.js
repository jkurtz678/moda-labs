import{d as $,r as b,c as E,h as i,i as r,t as p,g as k,F as h,o as a,J as S,u as B,a as x,w as f,j as v,e as z,b as N,f as P,k as H,_ as I,m as Q,z as j,E as F,bM as M,l as U,bn as J}from"./index.023502ce.js";import{s as g}from"./util.e129e321.js";import{P as R}from"./types.1a161a7e.js";import{b as W}from"./thumbnail-image.bac84ed5.js";import{h as q}from"./token-meta.68ad47b5.js";import"./firebaseConfig.4d01e9b5.js";const G={key:0},K={key:1},w=180,O=$({__name:"TruncatedDescription",props:{description:{}},setup(y){const o=y,t=b(!1),_=E(()=>o.description?t.value||o.description.length<w?o.description:`${o.description.substring(0,w)}...`:"");return(s,l)=>(a(),i(h,null,[r("div",null,p(_.value),1),r("div",null,[s.description&&s.description.length>w?(a(),i("a",{key:0,onClick:l[0]||(l[0]=e=>t.value=!t.value),class:"link"},[t.value?(a(),i("span",G,"Less")):(a(),i("span",K,"More"))])):k("",!0)])],64))}}),X={style:{display:"flex","justify-content":"center","margin-bottom":"8px"}},Y=["src"],Z={style:{"font-weight":"bold"}},ee={key:1,style:{"font-weight":"bold"}},te={style:{display:"flex","align-items":"center"}},ne={key:0,style:{"font-weight":"bold"}},ae=$({__name:"ArtPreviewHeader",props:{token_meta:{}},setup(y){const o=z();N();const t=y,_=W(S(t,"token_meta")),s=E(()=>{var e,n,u,c,d,m;switch((n=(e=t.token_meta)==null?void 0:e.entity)==null?void 0:n.price_unit){case R.USD:return`$${(c=(u=t.token_meta)==null?void 0:u.entity)==null?void 0:c.price}`;case R.ETH:return`${(m=(d=t.token_meta)==null?void 0:d.entity)==null?void 0:m.price} ETH`;default:return""}}),l=()=>{var e,n;window.open((n=(e=t.token_meta)==null?void 0:e.entity)==null?void 0:n.artist_social_link,"_blank")};return(e,n)=>{var c,d,m,T,C,L,D;const u=P("el-button");return a(),i(h,null,[r("div",X,[r("img",{src:B(_),style:{"max-width":"100%","max-height":"250px",padding:"8px 0px"}},null,8,Y)]),r("h1",Z,p((d=(c=e.token_meta)==null?void 0:c.entity)==null?void 0:d.name),1),e.token_meta.entity.artist_social_link?(a(),x(u,{key:0,link:"",size:"large",style:{"font-weight":"bold",display:"block","font-size":"1.1em"},type:"primary",onClick:l},{default:f(()=>{var V,A;return[H(p((A=(V=e.token_meta)==null?void 0:V.entity)==null?void 0:A.artist),1)]}),_:1})):(a(),i("h3",ee,p((T=(m=e.token_meta)==null?void 0:m.entity)==null?void 0:T.artist),1)),((C=B(o).name)==null?void 0:C.toString())!="bid"?(a(),i(h,{key:2},[r("div",te,[e.token_meta.entity.permission_to_sell?(a(),i("h2",ne,p(s.value),1)):k("",!0)]),v(O,{description:(D=(L=e.token_meta)==null?void 0:L.entity)==null?void 0:D.description},null,8,["description"])],64)):k("",!0)],64)}}});const oe={key:0,class:"content-wrapper"},ie=$({__name:"QrLandingView",setup(y){const o=z();N();const t=b(),_=b(),s=E(()=>o.name==="iframe");Q(async()=>{if(!o.params.token_meta_id||o.params.token_meta_id instanceof Array){g("Error invalid token meta id");return}l(o.params.token_meta_id)}),j(()=>o.params.token_meta_id,(e,n)=>{if(!e||e instanceof Array){g("Error invalid token meta id");return}e!==n&&l(e)});const l=async e=>{t.value=void 0,_.value=F.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),await q(e,n=>{t.value=n}).catch(n=>{g(`Error fetching token meta: ${n}`)}).finally(()=>{_.value.close()})};return(e,n)=>{const u=P("RouterView");return a(),i(h,null,[n[0]||(n[0]=r("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"},null,-1)),r("div",{class:U({container:!s.value,"iframe-page":s.value})},[v(M,{name:"slide-in",appear:""},{default:f(()=>[t.value?(a(),i("div",oe,[s.value?k("",!0):(a(),x(ae,{key:0,token_meta:t.value},null,8,["token_meta"])),v(M,{name:"fade",mode:"out-in"},{default:f(()=>[v(u,null,{default:f(({Component:c})=>[(a(),x(J(c),{token_meta:t.value},null,8,["token_meta"]))]),_:1})]),_:1})])):k("",!0)]),_:1})],2)],64)}}});var de=I(ie,[["__scopeId","data-v-5cdae27e"]]);export{de as default};
