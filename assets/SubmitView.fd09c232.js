import{d as c,r as i,m as u,E as r,h as m,i as l,u as d,a as p,g,b as f,o as n}from"./index.4b215848.js";import{u as h}from"./account.cf6be585.js";import{s as b}from"./util.13b96c69.js";import{S as k}from"./SubmitTokenForm.d6acc4c1.js";import{o as v,a as _}from"./firebaseConfig.4d01e9b5.js";import"./types.b78a5cbd.js";import"./gallery-token.dddef36d.js";import"./token-meta.2699ce9f.js";import"./token-meta.27b57e55.js";const x={style:{padding:"20px"}},N=c({__name:"SubmitView",setup(y){const s=f(),t=h(),o=i();return u(async()=>{o.value=r.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),v(_,async a=>{a?(o.value=r.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),await t.loadAccount(a.uid).catch(e=>{b(`Error loading moda archive account - ${e}`)}),o.value.close()):(t.setAccount(null),o.value.close(),s.push({name:"login",query:{redir:window.location.href}}))})}),(a,e)=>(n(),m("div",x,[e[0]||(e[0]=l("h1",{style:{"margin-bottom":"15px"}},"Submit To MoDA Archives",-1)),d(t).account?(n(),p(k,{key:0})):g("",!0)]))}});export{N as default};
