import{c as N,d as R}from"./types.3cc10997.js";import{s as F}from"./util.a1a82088.js";import{_ as L,d as M,u as V,r as P,M as W,c as p,b as h,o as i,h as a,k as t,i as o,w as u,f as s,t as r,g as m,F as j,p as Q,m as z}from"./index.977fcd9e.js";import{u as G}from"./thumbnail-image.a6005742.js";const y=c=>(Q("data-v-133885fe"),c=c(),z(),c),H={class:"card-flex-container"},J={key:0,style:{display:"flex"}},K={style:{display:"flex","align-items":"center",margin:"5px 25px 5px 5px"}},O={style:{display:"flex","flex-direction":"column","justify-content":"center"}},U={class:"bold"},X={class:"bold"},Y={key:0,style:{display:"flex","align-items":"top","text-align":"left"}},Z={class:"card-flex-left"},tt={class:"flex-column"},et=y(()=>t("p",{class:"card-title"},"Title",-1)),nt={class:"bold bigger-font"},ot=["src"],st={class:"card-flex-right"},it=y(()=>t("p",{class:"card-title"},"Artist name",-1)),at={class:"bold bigger-font description"},lt={key:0},rt={key:1},ct=["href"],_t=["href"],dt={style:{flex:"1","text-align":"right","padding-right":"1em","white-space":"nowrap"}},pt={style:{opacity:"0.5"}},ut=y(()=>t("hr",null,null,-1)),mt=M({__name:"PlaqueTokenItem",props:{token_meta:null},setup(c){const e=c,x=V(),_=P(!1),k=P(!1),g=G(W(e,"token_meta")),S=p(()=>e.token_meta.entity.description?k.value||e.token_meta.entity.description.length<200?e.token_meta.entity.description:`${e.token_meta.entity.description.substring(0,200)}...`:"No artwork description"),T=p(()=>{const n=e.token_meta.entity.public_link;return n&&!n.startsWith("https://")?`https://${n}`:n}),$=p(()=>{const n=e.token_meta.entity.artist_social_link;return n&&!n.startsWith("https://")?`https://${n}`:n}),A=p(()=>N(e.token_meta.entity.platform)),w=p(()=>e.token_meta.entity),B=async()=>{const n=await R(e.token_meta);if(!n){F("Error getting source file");return}window.open(n,"_blank")},D=()=>{const n=x.resolve({name:"preview-plaque",params:{token_meta_id:e.token_meta.id}});window.open(n.href)};return(n,l)=>{const E=h("el-image"),b=h("el-collapse-transition"),f=h("el-button"),v=h("el-tooltip");return i(),a(j,null,[t("div",H,[t("div",null,[o(b,null,{default:u(()=>{var d,C,q,I;return[_.value?m("",!0):(i(),a("div",J,[t("div",K,[o(E,{src:s(g),style:{width:"50px",height:"50px"},fit:"contain"},null,8,["src"])]),t("div",O,[t("div",U,r((C=(d=e.token_meta)==null?void 0:d.entity)==null?void 0:C.name),1),t("div",X,r((I=(q=e.token_meta)==null?void 0:q.entity)==null?void 0:I.artist),1)])]))]}),_:1}),o(b,null,{default:u(()=>[_.value?(i(),a("div",Y,[t("div",Z,[t("div",tt,[et,t("div",nt,r(e.token_meta.entity.name),1),t("img",{style:{width:"150px"},src:s(g)},null,8,ot)])]),t("div",st,[it,t("div",at,r(e.token_meta.entity.artist),1),t("div",null,r(s(S)),1),t("div",null,[e.token_meta.entity.description&&e.token_meta.entity.description.length>200?(i(),a("a",{key:0,onClick:l[0]||(l[0]=d=>k.value=!k.value),class:"link"},[k.value?(i(),a("span",lt,"Less")):(i(),a("span",rt,"More"))])):m("",!0)]),t("div",null,[s(w).public_link?(i(),a("a",{key:0,href:s(T),target:"_blank"},"QR Code Link",8,ct)):m("",!0)]),t("div",null,[s(w).artist_social_link?(i(),a("a",{key:0,href:s($),target:"_blank"},"Artist Social Media Link",8,_t)):m("",!0)])])])):m("",!0)]),_:1})]),t("div",dt,[o(v,{class:"box-item",effect:"dark",content:"Download art",placement:"top"},{default:u(()=>[o(f,{icon:"Download",text:"",circle:"",onClick:B})]),_:1}),o(v,{class:"box-item",effect:"dark",content:"Preview plaque",placement:"top"},{default:u(()=>[o(f,{icon:"Tickets",text:"",circle:"",onClick:D})]),_:1}),o(v,{class:"box-item",effect:"dark",content:"Edit art data",placement:"top"},{default:u(()=>[o(f,{icon:"Edit",text:"",circle:"",onClick:l[1]||(l[1]=d=>s(x).push({name:"edit-token",params:{token_meta_id:e.token_meta.id}}))})]),_:1}),o(f,{icon:_.value?"ArrowDownBold":"ArrowRightBold",onClick:l[2]||(l[2]=d=>_.value=!_.value),text:"",circle:""},null,8,["icon"]),t("div",pt,r(s(A)),1)])]),ut],64)}}});var yt=L(mt,[["__scopeId","data-v-133885fe"]]);export{yt as P};
