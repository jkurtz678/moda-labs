import{d as $,r as w,c as B,h as i,i as l,t as p,g as v,F as k,o,J as S,a as M,w as b,u as V,j as f,e as N,b as z,f as R,k as H,_ as P,m as Q,z as F,E as I,bM as U,bn as j}from"./index.729549fc.js";import{s as h}from"./util.cde7ba23.js";import{P as A}from"./types.4ea69ea7.js";import{b as J}from"./thumbnail-image.45e7f0f7.js";import{h as W}from"./token-meta.8015aff1.js";import"./firebaseConfig.4d01e9b5.js";const q={key:0},G={key:1},g=150,K=$({__name:"TruncatedDescription",props:{description:{}},setup(y){const a=y,t=w(!1),c=B(()=>a.description?t.value||a.description.length<g?a.description:`${a.description.substring(0,g)}...`:"No artwork description");return(r,n)=>(o(),i(k,null,[l("div",null,p(c.value),1),l("div",null,[r.description&&r.description.length>g?(o(),i("a",{key:0,onClick:n[0]||(n[0]=e=>t.value=!t.value),class:"link"},[t.value?(o(),i("span",q,"Less")):(o(),i("span",G,"More"))])):v("",!0)])],64))}}),O={style:{"font-weight":"bold"}},X={key:1,style:{"font-weight":"bold"}},Y=["src"],Z={style:{display:"flex","align-items":"center"}},ee={key:0,style:{"font-weight":"bold"}},te=$({__name:"ArtPreviewHeader",props:{token_meta:{}},setup(y){const a=N();z();const t=y,c=J(S(t,"token_meta")),r=B(()=>{var e,s,_,u,d,m;switch((s=(e=t.token_meta)==null?void 0:e.entity)==null?void 0:s.price_unit){case A.USD:return`$${(u=(_=t.token_meta)==null?void 0:_.entity)==null?void 0:u.price}`;case A.ETH:return`${(m=(d=t.token_meta)==null?void 0:d.entity)==null?void 0:m.price} ETH`;default:return""}}),n=()=>{var e,s;window.open((s=(e=t.token_meta)==null?void 0:e.entity)==null?void 0:s.artist_social_link,"_blank")};return(e,s)=>{var u,d,m,x,E,T,C;const _=R("el-button");return o(),i(k,null,[l("h1",O,p((d=(u=e.token_meta)==null?void 0:u.entity)==null?void 0:d.name),1),e.token_meta.entity.artist_social_link?(o(),M(_,{key:0,link:"",size:"large",style:{"font-weight":"bold",display:"block","font-size":"1.1em"},type:"primary",onClick:n},{default:b(()=>{var L,D;return[H(p((D=(L=e.token_meta)==null?void 0:L.entity)==null?void 0:D.artist),1)]}),_:1})):(o(),i("h3",X,p((x=(m=e.token_meta)==null?void 0:m.entity)==null?void 0:x.artist),1)),l("img",{src:V(c),style:{"max-width":"100%","max-height":"250px",padding:"8px 0px"}},null,8,Y),((E=V(a).name)==null?void 0:E.toString())!="bid"?(o(),i(k,{key:2},[l("div",Z,[e.token_meta.entity.permission_to_sell?(o(),i("h2",ee,p(r.value),1)):v("",!0)]),f(K,{description:(C=(T=e.token_meta)==null?void 0:T.entity)==null?void 0:C.description},null,8,["description"])],64)):v("",!0)],64)}}});const ne={class:"container"},oe=$({__name:"QrLandingView",setup(y){const a=N(),t=w(),c=w();Q(async()=>{if(!a.params.token_meta_id||a.params.token_meta_id instanceof Array){h("Error invalid token meta id");return}r(a.params.token_meta_id)}),F(()=>a.params.token_meta_id,(n,e)=>{if(!n||n instanceof Array){h("Error invalid token meta id");return}n!==e&&r(n)});const r=async n=>{t.value=void 0,c.value=I.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),await W(n,e=>{t.value=e}).catch(e=>{h(`Error fetching token meta: ${e}`)}).finally(()=>{c.value.close()})};return(n,e)=>{const s=R("RouterView");return o(),i(k,null,[e[0]||(e[0]=l("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"},null,-1)),l("div",ne,[t.value?(o(),i(k,{key:0},[f(te,{token_meta:t.value},null,8,["token_meta"]),f(U,{name:"fade",mode:"out-in"},{default:b(()=>[f(s,null,{default:b(({Component:_})=>[(o(),M(j(_),{token_meta:t.value},null,8,["token_meta"]))]),_:1})]),_:1})],64)):v("",!0)])],64)}}});var _e=P(oe,[["__scopeId","data-v-9ee6fa80"]]);export{_e as default};
