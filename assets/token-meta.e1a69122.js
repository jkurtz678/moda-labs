import{P as p,_ as w,f as g,I as f,R as y,c as u,g as r,G as _,d as M,p as T,b as h,i as k,e as m,m as B}from"./firebaseConfig.4d01e9b5.js";import{B as l}from"./types.fed76c89.js";const d=p(g),o=w(d,"token-meta"),b=async t=>{const a=await T(o,{...l.createBaseEntity(),...t}),e=await h(a);return{id:a.id,entity:e.data()}},I=async()=>r(o),D=async(t,a)=>{await B(t,{...l.createBaseEntity(),...a});const e=await h(t);return{id:t.id,entity:e.data()}},R=async(t,a)=>{a.updated_at=k.now();const e=r(d,"token-meta",t);await m(e,a);const s=await h(e);return{id:s.id,entity:s.data()}},W=async t=>{const a={deleted:!0,updated_at:k.now()},e=r(d,"token-meta",t);await m(e,a)},q=async t=>{await f(y(o),a=>{const e=[];a.forEach(n=>{e.push({id:n.id,entity:n.data()})});const s=e.filter(n=>!n.entity.deleted);t(s)})},G=async(t,a)=>{const e=y(o,u("user_id","==",t));await f(e,s=>{const n=[];s.forEach(c=>{n.push({id:c.id,entity:c.data()})});const i=n.filter(c=>!c.entity.deleted);a(i)})},P=async(t,a)=>{await f(r(d,"token-meta",t),e=>{a({id:e.id,entity:e.data()})})},x=async t=>{if(t.length==0)return[];const a=y(o,u(_(),"in",t)),e=await M(a),s=[];return e.forEach(i=>{s.push({id:i.id,entity:i.data()})}),s.filter(i=>!i.entity.deleted)};export{G as a,x as b,b as c,I as d,D as e,W as f,q as g,P as h,R as u};
