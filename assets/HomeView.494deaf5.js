import{u as A,_ as B,a as D,b as M,c as L,d as P}from"./token-meta.79201705.js";import{d as C,u as V,a as S,c as U,r as l,o as r,b as h,e as a,f as y,g as b,F as q,h as n,w as _,t as F,i as E,j as $,_ as H,k as I,l as j,E as O,m as z,R as G}from"./index.0e888a2d.js";import{u as N,s as k}from"./account.fc5ec16a.js";import{u as J}from"./plaque.0c72eacc.js";import"./token-meta.134d4694.js";import"./plaque.b6b931fe.js";const K={style:{display:"flex","align-items":"center"}},Q=E("div",{style:{"flex-grow":"1"}},null,-1),W=$(" Cancel "),X=E("div",{style:{"flex-grow":"1"}},null,-1),Y={key:0,style:{"margin-right":"10px"}},Z=$("Logout"),ee=C({setup(R){const t=V(),g=S(),i=N(),{width:v,screen_type:u}=A(),d=(e,o)=>{e.paneName&&typeof e.paneName=="string"&&t.push({name:e.paneName})},m=U(()=>{const e=i.account;if(!e)return"";if(e.entity.ens_name)return e.entity.ens_name;const o=e.entity.wallet_address;return`${o.substring(0,6)}...${o.substring(o.length-4)}`}),c=()=>{i.logout(),t.push({name:"landing",query:{redir:window.location.href}})},p=e=>new URL({"../assets/base.css":B,"../assets/logo.png":D,"../assets/logo.svg":M,"../assets/search-icon.svg":L}[`../assets/${e}`],self.location).href;return(e,o)=>{const f=l("el-image"),s=l("el-button"),w=l("el-tab-pane"),T=l("el-tabs");return r(),h("div",K,[a(u)!="xs"?(r(),y(f,{key:0,src:p("logo.png"),style:{width:"43px",height:"43px","margin-right":"2em"}},null,8,["src"])):b("",!0),a(t).currentRoute.value.name=="qr-scan"?(r(),h(q,{key:1},[Q,n(s,{icon:"close",onClick:o[0]||(o[0]=x=>a(t).push("plaque-list"))},{default:_(()=>[W]),_:1})],64)):(r(),h(q,{key:2},[n(T,{modelValue:a(g).name,"onUpdate:modelValue":o[1]||(o[1]=x=>a(g).name=x),onTabClick:d},{default:_(()=>[n(w,{label:"Plaques",name:"plaque-list"}),n(w,{label:"Tokens",name:"token-list"})]),_:1},8,["modelValue"]),X,a(u)!="xs"?(r(),h("div",Y,F(a(m)),1)):b("",!0),n(s,{onClick:c,style:{"margin-left":"1em"}},{default:_(()=>[Z]),_:1})],64))])}}});const te=C({setup(R){const t=N(),g=J(),i=P(),v=V(),u=I(!1);return j(async()=>{const d=O.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),{wallet_address:m,signature:c,ens_name:p}=t.getCachedAccountData();if(!m||!c){v.push({name:"landing"}),d.close();return}if(await t.loadAccount(m,c,p),t.account==null){z("Error - failed to load account");return}const e=g.loadPlaques(t.account.entity.wallet_address).catch(s=>k(`Error loading plaques - ${s}`)),o=i.loadArchiveTokenMetas(t.get_account.entity.wallet_address).catch(s=>k(`Error loading archive token metas - ${s}`)),f=i.loadOpenseaTokenMetas(t.get_account.entity.wallet_address).catch(s=>k(`Error loading opensea tokens - ${s}`));await Promise.all([e,o,f]),u.value=!0,d.close()}),(d,m)=>{const c=l("el-header"),p=l("el-main"),e=l("el-container");return r(),y(e,{style:{height:"100%"}},{default:_(()=>[n(c,{class:"header"},{default:_(()=>[n(ee)]),_:1}),n(p,{style:{"background-color":"#DAD9D7"}},{default:_(()=>[u.value?(r(),y(a(G),{key:0})):b("",!0)]),_:1})]),_:1})}}});var ce=H(te,[["__scopeId","data-v-5195bd86"]]);export{ce as default};
