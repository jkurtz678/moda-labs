import{d as c,r as i,m as u,E as r,h as m,i as l,u as d,a as p,g,b as f,o as n}from"./index.7b0aac66.js";import{u as h}from"./account.3b47c1ab.js";import{s as b}from"./util.98a6602e.js";import{S as k}from"./SubmitTokenForm.9b65cd70.js";import{o as v,a as _}from"./firebaseConfig.4d01e9b5.js";import"./types.4ea69ea7.js";import"./gallery-token.c4aa5fe8.js";import"./token-meta.8015aff1.js";import"./token-meta.dbe2fc7d.js";const x={style:{padding:"20px"}},N=c({__name:"SubmitView",setup(y){const s=f(),t=h(),o=i();return u(async()=>{o.value=r.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),v(_,async a=>{a?(o.value=r.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),await t.loadAccount(a.uid).catch(e=>{b(`Error loading moda archive account - ${e}`)}),o.value.close()):(t.setAccount(null),o.value.close(),s.push({name:"login",query:{redir:window.location.href}}))})}),(a,e)=>(n(),m("div",x,[e[0]||(e[0]=l("h1",{style:{"margin-bottom":"15px"}},"Submit To MoDA Archives",-1)),d(t).account?(n(),p(k,{key:0})):g("",!0)]))}});export{N as default};
