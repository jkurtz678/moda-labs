import{q as l}from"./index.19a58758.js";import{g as r,a as n}from"./plaque.c6443184.js";import{D as o,p as _,f as d,r as y,x as c,u}from"./account.895beb4c.js";const g=o(d),m=_(g,"gallery"),p=async a=>(await y(c(m))).docs.map(e=>({id:e.id,entity:e.data()})).filter(e=>e.entity.wallet_address_list.includes(a)),f=l({id:"gallery",state:()=>({gallery_list:[]}),getters:{get_address_list_for_galleries:a=>Array().concat.apply(Array(),a.gallery_list.map(s=>s.entity.wallet_address_list))},actions:{async loadGalleryList(a){this.gallery_list=await p(a)}}}),w=l({id:"plaque",state:()=>({plaques:[]}),getters:{plaque_map:a=>{const s={};return a.plaques.forEach(t=>{s[t.id]=t}),s},meta_in_playlist:a=>(s,t)=>a.plaque_map[s].entity.token_meta_id_list.some(i=>i==t),token_meta_id_list:a=>{let s=[];return a.plaques.forEach(t=>{s.push(...t.entity.token_meta_id_list)}),s}},actions:{async loadPlaques(a){u();const s=f();if(s.gallery_list.length>0){await r(s.get_address_list_for_galleries,t=>{for(let e=0;e<t.length;e++)t[e].entity.token_meta_id_list==null&&(t[e].entity.token_meta_id_list=[]);this.plaques=t});return}await n(a,t=>{for(let e=0;e<t.length;e++)t[e].entity.token_meta_id_list==null&&(t[e].entity.token_meta_id_list=[]);this.plaques=t})}}});export{f as a,w as u};
