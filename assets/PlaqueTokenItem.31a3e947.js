import{c as N,d as F}from"./types.6a5ef88e.js";import{s as R}from"./util.53d9dddb.js";import{d as V,u as I,r as C,K as S,c as m,b as k,o as i,e as s,k as t,i as o,w as _,f as l,t as r,h as f,F as j}from"./index.7118f761.js";import{u as K}from"./thumbnail-image.0e7b7642.js";const L={class:"card-flex-container"},M={key:0,style:{display:"flex"}},Q={style:{display:"flex","align-items":"center",margin:"5px 25px 5px 5px"}},W={style:{display:"flex","flex-direction":"column","justify-content":"center"}},z={class:"bold"},G={class:"bold"},H={key:0,style:{display:"flex","align-items":"top","text-align":"left"}},J={class:"card-flex-left"},O={class:"flex-column"},U=t("p",{class:"card-title"},"Title",-1),X={class:"bold bigger-font"},Y=["src"],Z={class:"card-flex-right"},tt=t("p",{class:"card-title"},"Artist name",-1),et={class:"bold bigger-font description"},nt={key:0},ot={key:1},it=["href"],st={style:{flex:"1","text-align":"right","padding-right":"1em","white-space":"nowrap"}},lt={style:{opacity:"0.5"}},at=t("hr",null,null,-1),pt=V({__name:"PlaqueTokenItem",props:{token_meta:null},setup(q){const e=q,v=I(),c=C(!1),p=C(!1),y=K(S(e,"token_meta")),B=m(()=>e.token_meta.entity.description?p.value||e.token_meta.entity.description.length<200?e.token_meta.entity.description:`${e.token_meta.entity.description.substring(0,200)}...`:"No artwork description"),D=m(()=>{const n=e.token_meta.entity.public_link;return n&&!n.startsWith("https://")?`https://${n}`:n}),E=m(()=>N(e.token_meta.entity.platform)),P=m(()=>e.token_meta.entity),T=async()=>{const n=await F(e.token_meta);if(!n){R("Error getting source file");return}window.open(n,"_blank")},$=()=>{const n=v.resolve({name:"preview-plaque",params:{token_meta_id:e.token_meta.id}});window.open(n.href)};return(n,a)=>{const A=k("el-image"),x=k("el-collapse-transition"),u=k("el-button"),h=k("el-tooltip");return i(),s(j,null,[t("div",L,[t("div",null,[o(x,null,{default:_(()=>{var d,g,w,b;return[c.value?f("",!0):(i(),s("div",M,[t("div",Q,[o(A,{src:l(y),style:{width:"50px",height:"50px"},fit:"contain"},null,8,["src"])]),t("div",W,[t("div",z,r((g=(d=e.token_meta)==null?void 0:d.entity)==null?void 0:g.name),1),t("div",G,r((b=(w=e.token_meta)==null?void 0:w.entity)==null?void 0:b.artist),1)])]))]}),_:1}),o(x,null,{default:_(()=>[c.value?(i(),s("div",H,[t("div",J,[t("div",O,[U,t("div",X,r(e.token_meta.entity.name),1),t("img",{style:{width:"150px"},src:l(y)},null,8,Y)])]),t("div",Z,[tt,t("div",et,r(e.token_meta.entity.artist),1),t("div",null,r(l(B)),1),t("div",null,[e.token_meta.entity.description&&e.token_meta.entity.description.length>200?(i(),s("a",{key:0,onClick:a[0]||(a[0]=d=>p.value=!p.value),class:"link"},[p.value?(i(),s("span",nt,"Less")):(i(),s("span",ot,"More"))])):f("",!0)]),t("div",null,[l(P).public_link?(i(),s("a",{key:0,href:l(D),target:"_blank"},"Qr-code link",8,it)):f("",!0)])])])):f("",!0)]),_:1})]),t("div",st,[o(h,{class:"box-item",effect:"dark",content:"Download art",placement:"top"},{default:_(()=>[o(u,{icon:"Download",text:"",circle:"",onClick:T})]),_:1}),o(h,{class:"box-item",effect:"dark",content:"Preview plaque",placement:"top"},{default:_(()=>[o(u,{icon:"Tickets",text:"",circle:"",onClick:$})]),_:1}),o(h,{class:"box-item",effect:"dark",content:"Edit art data",placement:"top"},{default:_(()=>[o(u,{icon:"Edit",text:"",circle:"",onClick:a[1]||(a[1]=d=>l(v).push({name:"edit-token",params:{token_meta_id:e.token_meta.id}}))})]),_:1}),o(u,{icon:c.value?"ArrowDownBold":"ArrowRightBold",onClick:a[2]||(a[2]=d=>c.value=!c.value),text:"",circle:""},null,8,["icon"]),t("div",lt,r(l(E)),1)])]),at],64)}}});export{pt as _};
