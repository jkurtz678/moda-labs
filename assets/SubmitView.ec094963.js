import{d as s,r as u,l as i,E as r,e as d,f as l,g as m,h as _,k as p,u as g,o as c}from"./index.a8985256.js";import{u as h}from"./account.f6eb4b47.js";import{o as f,a as k,b}from"./util.36b85f41.js";import{_ as v}from"./SubmitTokenForm.d46c5b06.js";import"./token-meta.fffd801c.js";const x={style:{padding:"20px"}},y=p("h1",{style:{"margin-bottom":"15px"}},"Submit To MoDA Archives",-1),L=s({__name:"SubmitView",setup(A){const n=g(),o=h(),e=u();return i(async()=>{e.value=r.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),f(b,async a=>{a?(e.value=r.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),await o.loadAccount(a.uid).catch(t=>{k(`Error loading moda archive account - ${t}`)}),e.value.close()):(o.setAccount(null),n.push({name:"login",query:{redir:window.location.href}}))})}),(a,t)=>(c(),d("div",x,[y,l(o).account?(c(),m(v,{key:0})):_("",!0)]))}});export{L as default};
