import{b as u,T as f,f as m,j as c,c as i,r as d,E as p,B as k,n as l,A as w,K as B,O as y,Q as E}from"./firebaseConfig.d7a6b5a9.js";import{B as T}from"./types.ab61d3d9.js";const h=u(m),o=f(h,"token-meta"),M=async s=>{const t=await E(o,{...T.createBaseEntity(),...s}),a=await y(t);return{id:t.id,entity:a.data()}},b=async(s,t)=>{t.updated_at=l.now();const a=w(h,"token-meta",s);await B(a,t);const n=await y(a);return{id:n.id,entity:n.data()}},q=async s=>{await c(i(o),t=>{const a=[];t.forEach(n=>{a.push({id:n.id,entity:n.data()})}),s(a)})},A=async(s,t)=>{const a=i(o,d("user_id","==",s));await c(a,n=>{const e=[];n.forEach(r=>{e.push({id:r.id,entity:r.data()})}),t(e)})},_=async s=>{if(s.length==0)return[];const t=i(o,d(p(),"in",s)),a=await k(t),n=[];return a.forEach(e=>{n.push({id:e.id,entity:e.data()})}),n};export{A as a,_ as b,M as c,q as g,b as u};
