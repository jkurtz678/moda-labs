import{P as w,_ as g,f as M,I as f,R as y,c as k,g as r,G as T,d as _,p as B,b as h,m as E,i as l,e as p}from"./firebaseConfig.4d01e9b5.js";import{B as m}from"./types.4ea69ea7.js";const d=w(M),c=g(d,"token-meta"),q=async t=>{const a=await B(c,{...m.createBaseEntity(),...t}),e=await h(a);return{id:a.id,entity:e.data()}},D=async()=>r(c),R=async(t,a)=>{await E(t,{...m.createBaseEntity(),...a});const e=await h(t);return{id:t.id,entity:e.data()}},W=async(t,a)=>{a.updated_at=l.now();const e=r(d,"token-meta",t);await p(e,a);const n=await h(e);return{id:n.id,entity:n.data()}},G=async t=>{const a={deleted:!0,updated_at:l.now()},e=r(d,"token-meta",t);await p(e,a)},P=async t=>{await f(y(c),a=>{const e=[];a.forEach(i=>{e.push({id:i.id,entity:i.data()})});const n=e.filter(i=>!i.entity.deleted);t(n)})},x=async(t,a)=>{const e=y(c,k("user_id","==",t));await f(e,n=>{const i=[];n.forEach(o=>{i.push({id:o.id,entity:o.data()})});const s=i.filter(o=>!o.entity.deleted);a(s)})},z=async(t,a)=>{await f(r(d,"token-meta",t),e=>{a({id:e.id,entity:e.data()})})},A=async t=>{if(t.length==0)return[];const a=30,e=[];for(let s=0;s<t.length;s+=a)e.push(t.slice(s,s+a));const n=[];for(const s of e){const o=y(c,k(T(),"in",s));(await _(o)).forEach(u=>{n.push({id:u.id,entity:u.data()})})}return n.filter(s=>!s.entity.deleted)};export{x as a,A as b,q as c,D as d,R as e,G as f,P as g,z as h,W as u};
