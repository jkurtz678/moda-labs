import{b as f,T as m,f as p,j as o,c,r as u,A as r,E as w,B as l,n as T,K as B,O as y,Q as g,U as E}from"./firebaseConfig.d7a6b5a9.js";import{B as k}from"./types.6a5ef88e.js";const d=f(p),i=m(d,"token-meta"),b=async t=>{const s=await g(i,{...k.createBaseEntity(),...t}),a=await y(s);return{id:s.id,entity:a.data()}},D=async()=>r(i),W=async(t,s)=>{await E(t,{...k.createBaseEntity(),...s});const a=await y(t);return{id:t.id,entity:a.data()}},q=async(t,s)=>{s.updated_at=T.now();const a=r(d,"token-meta",t);await B(a,s);const e=await y(a);return{id:e.id,entity:e.data()}},A=async t=>{await o(c(i),s=>{const a=[];s.forEach(e=>{a.push({id:e.id,entity:e.data()})}),t(a)})},I=async(t,s)=>{const a=c(i,u("user_id","==",t));await o(a,e=>{const n=[];e.forEach(h=>{n.push({id:h.id,entity:h.data()})}),s(n)})},U=async(t,s)=>{await o(r(d,"token-meta",t),a=>{s({id:a.id,entity:a.data()})})},_=async t=>{if(t.length==0)return[];const s=c(i,u(w(),"in",t)),a=await l(s),e=[];return a.forEach(n=>{e.push({id:n.id,entity:n.data()})}),e};export{I as a,_ as b,b as c,D as d,W as e,U as f,A as g,q as u};
