import{c as L,e as B}from"./types.4ea69ea7.js";import{u as F}from"./thumbnail-image.8a6b0f4b.js";import{m as A}from"./util.90352bdf.js";import{u as I}from"./plaque.d201a5d3.js";import{d as w,J as N,c as m,h as i,i as s,j as v,u as h,t as k,g as z,F as x,a as T,f as y,o,K as M,L as U,_ as $,r as b,H as C,n as D,I as H}from"./index.ec6e88f4.js";import{A as P}from"./ArtworkFilters.a83b861b.js";const j={class:"card-flex-container"},E={style:{display:"flex","align-items":"center",margin:"3px 25px 3px 0px"}},J={style:{flex:"3 1 0%","text-align":"left","align-items":"center"}},K={class:"bold"},R={class:"bold"},Y={style:{"margin-right":"10px","min-width":"80px"}},G={style:{opacity:"0.5","font-size":"var(--el-font-size-extra-small)"}},O={key:0,style:{opacity:"0.5","font-size":"var(--el-font-size-extra-small)"}},Q={style:{"min-width":"25px",margin:"0 1.5em 0 0"}},W=w({__name:"AddTokenItem",props:{in_list:{type:Boolean},token_meta:{},plaque_id:{}},emits:["update_token_list"],setup(g,{emit:q}){const t=g,c=I(),p=F(N(t,"token_meta")),_=q,r=m(()=>L(t.token_meta.entity.platform)),d=m(()=>{if(!t.plaque_id||!c.plaque_media_map[t.plaque_id]||!t.token_meta.entity.media_id)return null;const l=c.plaque_media_map[t.plaque_id];return l?l[B(t.token_meta)]:null}),u=m(()=>{var e,a;const l=(a=(e=t.token_meta)==null?void 0:e.entity)==null?void 0:a.media_size;return l?A(l):""}),f=m({get(){return t.in_list},set(){_("update_token_list",t.token_meta.id)}});return(l,e)=>{const a=y("el-image"),n=y("el-button"),V=y("el-checkbox");return o(),i(x,null,[e[1]||(e[1]=s("hr",{class:"hr"},null,-1)),s("div",j,[s("div",E,[v(a,{src:h(p),style:{width:"50px",height:"50px"},fit:"contain"},null,8,["src"])]),s("div",J,[s("p",K,k(t.token_meta.entity.name),1),s("p",R,k(t.token_meta.entity.artist),1)]),s("div",Y,[s("div",G,k(r.value),1),u.value?(o(),i("div",O,k(u.value),1)):z("",!0)]),s("div",Q,[d.value?(o(),i(x,{key:0},[d.value.bytes_downloaded==d.value.total_bytes?(o(),T(n,{key:0,type:"success",icon:h(M),circle:"",size:"small"},null,8,["icon"])):(o(),T(n,{key:1,type:"warning",icon:h(U),circle:"",size:"small"},null,8,["icon"]))],64)):z("",!0)]),v(V,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=S=>f.value=S),style:{"margin-right":"25px"}},null,8,["modelValue"])])],64)}}});var X=$(W,[["__scopeId","data-v-2ca035d5"]]);const Z={style:{display:"flex","align-items":"center"}},ee={key:0},ie=w({__name:"TokenSelectList",props:{selected_token_meta_id_list:{},token_meta_list:{},max_height:{},plaque_id:{}},emits:["update:selected_token_meta_id_list"],setup(g,{emit:q}){const t=g,c=q,p=b(!1),_=b(""),r=b([]),d=l=>{const e=[];if(p.value)e.push(...l);else{for(let a of l)u.value.has(a.id)?e.unshift(a):e.push(a);p.value=!0}r.value=e},u=m(()=>new Set(t.selected_token_meta_id_list)),f=l=>{let e=[...t.selected_token_meta_id_list];e.some(a=>a===l)?e=e.filter(a=>a!=l):e.push(l),c("update:selected_token_meta_id_list",e)};return(l,e)=>{const a=y("el-input");return o(),i(x,null,[s("div",Z,[v(a,{type:"text",modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=n=>_.value=n),"prefix-icon":h(H),placeholder:"Search by artwork title or artist name"},null,8,["modelValue","prefix-icon"]),v(P,{all_tokens:t.token_meta_list,search_filter:_.value,use_local_storage:!1,onUpdateFilteredTokens:d,plaque_id:l.plaque_id},null,8,["all_tokens","search_filter","plaque_id"])]),s("div",{style:D({marginTop:"10px",overflowY:"auto",maxHeight:t.max_height?`${t.max_height}px`:""})},[r.value.length==0?(o(),i("div",ee,"No artwork found")):z("",!0),(o(!0),i(x,null,C(r.value,n=>(o(),T(X,{token_meta:n,in_list:Boolean(u.value.has(n.id)),onUpdate_token_list:f,plaque_id:l.plaque_id},null,8,["token_meta","in_list","plaque_id"]))),256)),e[1]||(e[1]=s("hr",{class:"hr"},null,-1))],4)],64)}}});export{ie as _};
