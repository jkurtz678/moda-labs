import{c as N,d as $}from"./types.6a5ef88e.js";import{s as F}from"./util.3fde143a.js";import{d as R,u as V,r as q,K as I,c as h,b as m,o,e as i,k as t,i as n,w as _,f as s,t as a,h as f,F as S}from"./index.3dc2fff9.js";import{u as j}from"./thumbnail-image.6d07b957.js";const K={class:"card-flex-container"},L={key:0,style:{display:"flex"}},M={style:{display:"flex","align-items":"center",margin:"5px 25px 5px 5px"}},Q={style:{display:"flex","flex-direction":"column","justify-content":"center"}},z={class:"bold"},G={class:"bold"},H={key:0,style:{display:"flex","align-items":"top","text-align":"left"}},J={class:"card-flex-left"},O={class:"flex-column"},U=t("p",{class:"card-title"},"Title",-1),W={class:"bold bigger-font"},X=["src"],Y={class:"card-flex-right"},Z=t("p",{class:"card-title"},"Artist name",-1),tt={class:"bold bigger-font description"},et={key:0},nt={key:1},ot=["href"],it={style:{flex:"1","text-align":"right","padding-right":"1em","white-space":"nowrap"}},st={style:{opacity:"0.5"}},lt=t("hr",null,null,-1),_t=R({__name:"PlaqueTokenItem",props:{token_meta:null},setup(B){const e=B,v=V(),r=q(!1),p=q(!1),y=j(I(e,"token_meta")),D=h(()=>e.token_meta.entity.description?p.value||e.token_meta.entity.description.length<200?e.token_meta.entity.description:`${e.token_meta.entity.description.substring(0,200)}...`:"No artwork description"),E=h(()=>N(e.token_meta.entity.platform)),x=h(()=>e.token_meta.entity),P=async()=>{const c=await $(e.token_meta);if(!c){F("Error getting source file");return}window.open(c,"_blank")},T=()=>{const c=v.resolve({name:"preview-plaque",params:{token_meta_id:e.token_meta.id}});window.open(c.href)};return(c,l)=>{const A=m("el-image"),g=m("el-collapse-transition"),u=m("el-button"),k=m("el-tooltip");return o(),i(S,null,[t("div",K,[t("div",null,[n(g,null,{default:_(()=>{var d,w,b,C;return[r.value?f("",!0):(o(),i("div",L,[t("div",M,[n(A,{src:s(y),style:{width:"50px",height:"50px"},fit:"contain"},null,8,["src"])]),t("div",Q,[t("div",z,a((w=(d=e.token_meta)==null?void 0:d.entity)==null?void 0:w.name),1),t("div",G,a((C=(b=e.token_meta)==null?void 0:b.entity)==null?void 0:C.artist),1)])]))]}),_:1}),n(g,null,{default:_(()=>[r.value?(o(),i("div",H,[t("div",J,[t("div",O,[U,t("div",W,a(e.token_meta.entity.name),1),t("img",{style:{width:"150px"},src:s(y)},null,8,X)])]),t("div",Y,[Z,t("div",tt,a(e.token_meta.entity.artist),1),t("div",null,a(s(D)),1),t("div",null,[e.token_meta.entity.description&&e.token_meta.entity.description.length>200?(o(),i("a",{key:0,onClick:l[0]||(l[0]=d=>p.value=!p.value),class:"link"},[p.value?(o(),i("span",et,"Less")):(o(),i("span",nt,"More"))])):f("",!0)]),t("div",null,[s(x).public_link?(o(),i("a",{key:0,href:s(x).public_link,target:"_blank"},"Qr-code link",8,ot)):f("",!0)])])])):f("",!0)]),_:1})]),t("div",it,[n(k,{class:"box-item",effect:"dark",content:"Download art",placement:"top"},{default:_(()=>[n(u,{icon:"Download",text:"",circle:"",onClick:P})]),_:1}),n(k,{class:"box-item",effect:"dark",content:"Preview plaque",placement:"top"},{default:_(()=>[n(u,{icon:"Tickets",text:"",circle:"",onClick:T})]),_:1}),n(k,{class:"box-item",effect:"dark",content:"Edit art data",placement:"top"},{default:_(()=>[n(u,{icon:"Edit",text:"",circle:"",onClick:l[1]||(l[1]=d=>s(v).push({name:"edit-token",params:{token_meta_id:e.token_meta.id}}))})]),_:1}),n(u,{icon:r.value?"ArrowDownBold":"ArrowRightBold",onClick:l[2]||(l[2]=d=>r.value=!r.value),text:"",circle:""},null,8,["icon"]),t("div",st,a(s(E)),1)])]),lt],64)}}});export{_t as _};
