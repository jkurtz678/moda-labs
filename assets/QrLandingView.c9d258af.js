import{s as w}from"./util.4177647f.js";import{_ as x}from"./bid.2e6cbf64.js";import{h as P}from"./token-meta.9b03395e.js";import{i as p}from"./firebaseConfig.4d01e9b5.js";import{d as q,r as o,Q as z,q as A,E as B,c as C,h as f,a as v,l as r,i as _,w as l,g as L,e as E,f as M,o as d,j as u}from"./index.a0d92ef2.js";import"./types.67d14e22.js";import"./thumbnail-image.d905bfd7.js";const V={class:"container"},T={key:0},$={style:{padding:"20px 0px",display:"flex",gap:"10px",width:"100%"}},j={style:{padding:"12px 0px"}},N=r("div",{style:{"font-size":"var(--el-font-size-extra-small)"}},"Learn More",-1),Q={style:{display:"flex",gap:"10px",width:"100%"}},O=q({__name:"QrLandingView",setup(D){const i=E();o();const b=o({token_meta_id:"",bidding_name:"",email:"",phone_number:"",amount:0,created_at:p.now(),updated_at:p.now()}),m=o([]),s=o();z({bidding_name:[{required:!0,message:"Please enter your bidding name",trigger:"blur"}],email:[{required:!0,message:"Please enter your email",trigger:"blur"},{type:"email",message:"Please enter a valid email address",trigger:["blur","change"]}],phone_number:[{required:!0,message:"Please enter your phone number",trigger:"blur"},{pattern:/^\d{10}$/,message:"Please enter a valid 10-digit phone number",trigger:"blur"}],amount:[{required:!0,message:"Please enter a bid amount",trigger:"blur"},{validator:(e,n,t)=>{let a=0;c.value&&(a=c.value.entity.amount+1),n<=a?t(new Error(`Please enter a bid amount greater than $${a}`)):t()},trigger:"blur"},{pattern:/^\d+(\.\d+)?$/,message:"Please enter a valid number",trigger:"blur"}]});const g=o();o(!1),A(async()=>{if(!i.params.token_meta_id||i.params.token_meta_id instanceof Array){w("Error invalid token meta id");return}g.value=B.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),console.log("route.params.token_meta_id",i.params.token_meta_id),await P(i.params.token_meta_id,e=>{s.value=e,b.value.token_meta_id=e.id,g.value.close()})});const c=C(()=>m.value.length===0?null:m.value.reduce((e,n)=>e.entity.amount>n.entity.amount?e:n)),k=()=>{window.open("https://moda-labs.xyz/","_blank")},y=()=>{window.open("https://www.instagram.com/projekt.______/","_blank")},h=()=>{window.open("https://account.venmo.com/u/ModaArt","_blank")};return(e,n)=>{var a;const t=M("el-button");return d(),f("div",V,[s.value?(d(),v(x,{key:1,token_meta:s.value},null,8,["token_meta"])):(d(),f("div",T,"Loading")),r("div",null,[r("div",$,[_(t,{color:"#000000",size:"large",onClick:h,style:{"flex-grow":"1","font-size":"18px"},round:""},{default:l(()=>[u("Tip Artist")]),_:1}),(a=s.value)!=null&&a.entity.permission_to_sell?(d(),v(t,{key:0,color:"#000000",size:"large",style:{"flex-grow":"1","font-size":"18px"},round:""},{default:l(()=>[u("Place A Bid")]),_:1})):L("",!0)]),r("div",j,[N,r("div",Q,[_(t,{onClick:k,style:{"flex-grow":"1"}},{default:l(()=>[u("Moda Plaque")]),_:1}),_(t,{onClick:y,style:{"flex-grow":"1"}},{default:l(()=>[u("Projekt ______")]),_:1})])])])])}}});export{O as default};
