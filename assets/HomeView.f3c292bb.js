import{u as T,_ as B,a as M,b as A,c as D}from"./token-meta.42e1afd0.js";import{d as V,u as C,a as I,c as L,r as l,o as c,b as f,e as n,f as k,g as E,F as q,h as s,w as _,i as y,t as P,j as $,_ as U,k as F,l as H,E as j,m as O,R as z}from"./index.f3c17624.js";import{u as N}from"./account.7ec125c6.js";import{u as G}from"./plaque.223b2597.js";import{s as h}from"./util.e8c02b50.js";import"./token-meta.fb12cca0.js";import"./plaque.fa8bed1c.js";const J={style:{display:"flex","align-items":"center"}},K=y("div",{style:{"flex-grow":"1"}},null,-1),Q=$(" Cancel "),W=y("div",{style:{"flex-grow":"1"}},null,-1),X={style:{"margin-right":"10px"}},Y=$("Logout"),Z=V({setup(R){const t=C(),p=I(),i=N(),{width:w,screen_type:g}=T(),u=(e,o)=>{e.paneName&&typeof e.paneName=="string"&&t.push({name:e.paneName})},d=L(()=>{var o;const e=(o=i.account)==null?void 0:o.entity.wallet_address;return e?`${e.substring(0,6)}...${e.substring(e.length-4)}`:""}),r=()=>{i.logout(),t.push({name:"landing",query:{redir:window.location.href}})},m=e=>new URL({"../assets/base.css":B,"../assets/logo.png":M,"../assets/logo.svg":A}[`../assets/${e}`],self.location).href;return(e,o)=>{const a=l("el-image"),v=l("el-button"),b=l("el-tab-pane"),S=l("el-tabs");return c(),f("div",J,[n(g)!="xs"?(c(),k(a,{key:0,src:m("logo.png"),style:{width:"43px",height:"43px","margin-right":"2em"}},null,8,["src"])):E("",!0),n(t).currentRoute.value.name=="qr-scan"?(c(),f(q,{key:1},[K,s(v,{icon:"close",onClick:o[0]||(o[0]=x=>n(t).push("plaque-list"))},{default:_(()=>[Q]),_:1})],64)):(c(),f(q,{key:2},[s(S,{modelValue:n(p).name,"onUpdate:modelValue":o[1]||(o[1]=x=>n(p).name=x),onTabClick:u},{default:_(()=>[s(b,{label:"Plaques",name:"plaque-list"}),s(b,{label:"Tokens",name:"token-list"})]),_:1},8,["modelValue"]),W,y("div",X,P(n(d)),1),s(v,{onClick:r,style:{"margin-left":"1em"}},{default:_(()=>[Y]),_:1})],64))])}}});const ee=V({setup(R){const t=N(),p=G(),i=D(),w=C(),g=F(!1);return H(async()=>{const u=j.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),d=window.localStorage.getItem("account_address"),r=window.localStorage.getItem("account_signature");if(d==null||r==null){w.push({name:"landing"}),u.close();return}if(await t.loadAccount(d,r),t.account==null){O("Error - failed to load account");return}const m=p.loadPlaques(t.account.entity.wallet_address).catch(a=>h(`Error loading plaques - ${a}`)),e=i.loadArchiveTokenMetas(t.get_account.entity.wallet_address).catch(a=>h(`Error loading archive token metas - ${a}`)),o=i.loadOpenseaTokenMetas(t.get_account.entity.wallet_address).catch(a=>h(`Error loading opensea tokens - ${a}`));await Promise.all([m,e,o]),g.value=!0,u.close()}),(u,d)=>{const r=l("el-header"),m=l("el-main"),e=l("el-container");return c(),k(e,{style:{height:"100%"}},{default:_(()=>[s(r,{class:"header"},{default:_(()=>[s(Z)]),_:1}),s(m,{style:{"background-color":"#DAD9D7"}},{default:_(()=>[g.value?(c(),k(n(z),{key:0})):E("",!0)]),_:1})]),_:1})}}});var ce=U(ee,[["__scopeId","data-v-26312e11"]]);export{ce as default};
