import{q as l}from"./index.a41bec4c.js";import{g as r,a as o,b as n}from"./plaque.873378d8.js";import{U as _,D as d,f as u,g as c,K as y}from"./account.a8153816.js";const g=_(u),m=d(g,"gallery"),p=async e=>(await c(y(m))).docs.map(s=>({id:s.id,entity:s.data()})).filter(s=>s.entity.wallet_address_list.includes(e)),q=l({id:"gallery",state:()=>({gallery_list:[]}),getters:{get_address_list_for_galleries:e=>Array().concat.apply(Array(),e.gallery_list.map(a=>a.entity.wallet_address_list))},actions:{async loadGalleryList(e){this.gallery_list=await p(e)}}}),k=l({id:"plaque",state:()=>({plaques:[],demo_plaques:[]}),getters:{plaque_map:e=>{const a={};return e.plaques.concat(e.demo_plaques).forEach(t=>{a[t.id]=t}),a},all_plaques:e=>e.plaques.concat(e.demo_plaques),meta_in_playlist:e=>(a,t)=>e.plaque_map[a].entity.token_meta_id_list.some(i=>i==t),token_meta_id_list:e=>{let a=[];return e.plaques.concat(e.demo_plaques).forEach(t=>{a.push(...t.entity.token_meta_id_list)}),a}},actions:{async loadPlaques(e){const a=q();if(a.gallery_list.length>0){await r(a.get_address_list_for_galleries,t=>{for(let s=0;s<t.length;s++)t[s].entity.token_meta_id_list==null&&(t[s].entity.token_meta_id_list=[]);this.plaques=t});return}await o(e,t=>{for(let s=0;s<t.length;s++)t[s].entity.token_meta_id_list==null&&(t[s].entity.token_meta_id_list=[]);this.plaques=t})},async loadDemoPlaques(){await n(["p2iD3rHnX4KI2KAZKsLQ","CeLCxgh7oEoCOS2ilHBS"],a=>{console.log("DEMO PLAQUES",a),this.demo_plaques=a})}}});export{q as a,k as u};
