import{u as k,c as E,d as g}from"./account.01e9d65a.js";import{_ as A,d as S,r as z,c as B,h,i,w as d,b as u,o as m,k as e,t as v,f,e as I,j as b,v as _,I as N,p as V,l as W}from"./index.cce1f96b.js";import"./types.6a5ef88e.js";import"./firebaseConfig.d7a6b5a9.js";import"./util.9cc4cf79.js";const y=o=>(V("data-v-66663ef6"),o=o(),W(),o),j={style:{display:"flex","justify-content":"center"}},D=y(()=>e("div",{class:"card-header"},[e("span",{style:{"font-size":"18px"}},"Account Settings")],-1)),M=y(()=>e("div",{style:{"font-size":"var(--el-font-size-extra-small)"}},"Email",-1)),$={key:0,style:{"margin-top":"2em"}},T={style:{"font-size":"var(--el-font-size-extra-small)",display:"flex","align-items":"center"}},q=y(()=>e("div",null,"Connected Ethereum Wallet",-1)),F={style:{display:"flex","align-items":"center"}},G=S({__name:"AccountSettings",setup(o){const c=k(),n=z(!1),s=B(()=>c.get_account),w=async()=>{const{address:t,signature:p,ens_name:a}=await E();console.log("address",t,p,a),n.value=!0;const l={wallet_address:t,signature:p};a&&(l.ens_name=a),await g(s.value.id,l).then(()=>c.loadAccount(s.value.id)).then(()=>{_({type:"success",message:"Ethereum wallet connected"})}).catch(r=>{_({message:`Error connecting wallet - ${r}`,type:"error",showClose:!0,duration:12e3})}).finally(()=>n.value=!1)},x=async()=>{n.value=!0,N.confirm("Are you sure you want to disconnect your wallet?","Disconnect",{type:"warning"}).then(()=>{const t={wallet_address:"",signature:"",ens_name:""};return g(s.value.id,t)}).then(()=>c.loadAccount(s.value.id)).then(()=>{_({type:"success",message:"Ethereum wallet disconnected"})}).catch(t=>{_({message:`Error disconnecting wallet - ${t}`,type:"error",showClose:!0,duration:12e3})}).finally(()=>n.value=!1)};return(t,p)=>{const a=u("Check"),l=u("el-icon"),r=u("el-button"),C=u("el-card");return m(),h("div",j,[i(C,{class:"container-card"},{header:d(()=>[D]),default:d(()=>[M,e("div",null,v(f(c).get_account.entity.email),1),f(s).entity.wallet_address?(m(),h("div",$,[e("div",T,[q,i(l,{style:{color:"green","font-size":"1.5em","margin-left":"5px"}},{default:d(()=>[i(a)]),_:1})]),e("div",F,[e("div",null,v(f(s).entity.wallet_address),1),i(r,{text:"",circle:"",size:"small",icon:"close",style:{"margin-left":"5px"},onClick:x,loading:n.value},null,8,["loading"])])])):(m(),I(r,{key:1,onClick:w,loading:n.value,style:{"margin-top":"2em"},icon:"Connection",color:"#000000"},{default:d(()=>[b("Connect Ethereum Wallet")]),_:1},8,["loading"]))]),_:1})])}}});var P=A(G,[["__scopeId","data-v-66663ef6"]]);export{P as default};
