import{c as I,e as L}from"./types.e0f521c1.js";import{u as B}from"./thumbnail-image.545d223f.js";import{m as F}from"./util.83b5edfd.js";import{u as N}from"./plaque.853249ae.js";import{d as w,L as A,c as m,h as _,l as s,i as x,u as v,t as k,g as z,F as g,a as S,f as y,o,M,N as $,_ as U,p as C,m as D,r as b,J as P,n as E,K as H}from"./index.a08686cb.js";import{A as J}from"./ArtworkFilters.45f89058.js";const K=n=>(C("data-v-2ca035d5"),n=n(),D(),n),R=K(()=>s("hr",{class:"hr"},null,-1)),Y={class:"card-flex-container"},j={style:{display:"flex","align-items":"center",margin:"3px 25px 3px 0px"}},G={style:{flex:"3 1 0%","text-align":"left","align-items":"center"}},O={class:"bold"},Q={class:"bold"},W={style:{"margin-right":"10px","min-width":"80px"}},X={style:{opacity:"0.5","font-size":"var(--el-font-size-extra-small)"}},Z={key:0,style:{opacity:"0.5","font-size":"var(--el-font-size-extra-small)"}},ee={style:{"min-width":"25px",margin:"0 1.5em 0 0"}},te=w({__name:"AddTokenItem",props:{in_list:{type:Boolean},token_meta:{},plaque_id:{}},emits:["update_token_list"],setup(n,{emit:q}){const t=n,p=N(),f=B(A(t,"token_meta")),r=q,d=m(()=>I(t.token_meta.entity.platform)),u=m(()=>{if(!t.plaque_id||!p.plaque_media_map[t.plaque_id]||!t.token_meta.entity.media_id)return null;const a=p.plaque_media_map[t.plaque_id];return a?a[L(t.token_meta)]:null}),c=m(()=>{var e,l;const a=(l=(e=t.token_meta)==null?void 0:e.entity)==null?void 0:l.media_size;return a?F(a):""}),h=m({get(){return t.in_list},set(){r("update_token_list",t.token_meta.id)}});return(a,e)=>{const l=y("el-image"),i=y("el-button"),T=y("el-checkbox");return o(),_(g,null,[R,s("div",Y,[s("div",j,[x(l,{src:v(f),style:{width:"50px",height:"50px"},fit:"contain"},null,8,["src"])]),s("div",G,[s("p",O,k(t.token_meta.entity.name),1),s("p",Q,k(t.token_meta.entity.artist),1)]),s("div",W,[s("div",X,k(d.value),1),c.value?(o(),_("div",Z,k(c.value),1)):z("",!0)]),s("div",ee,[u.value?(o(),_(g,{key:0},[u.value.bytes_downloaded==u.value.total_bytes?(o(),S(i,{key:0,type:"success",icon:v(M),circle:"",size:"small"},null,8,["icon"])):(o(),S(i,{key:1,type:"warning",icon:v($),circle:"",size:"small"},null,8,["icon"]))],64)):z("",!0)]),x(T,{modelValue:h.value,"onUpdate:modelValue":e[0]||(e[0]=V=>h.value=V),style:{"margin-right":"25px"}},null,8,["modelValue"])])],64)}}});var ae=U(te,[["__scopeId","data-v-2ca035d5"]]);const le={style:{display:"flex","align-items":"center"}},se={key:0},oe=s("hr",{class:"hr"},null,-1),ce=w({__name:"TokenSelectList",props:{selected_token_meta_id_list:{},token_meta_list:{},max_height:{},plaque_id:{}},emits:["update:selected_token_meta_id_list"],setup(n,{emit:q}){const t=n,p=q,f=b(!1),r=b(""),d=b([]),u=a=>{const e=[];if(f.value)e.push(...a);else{for(let l of a)c.value.has(l.id)?e.unshift(l):e.push(l);f.value=!0}d.value=e},c=m(()=>new Set(t.selected_token_meta_id_list)),h=a=>{let e=[...t.selected_token_meta_id_list];e.some(l=>l===a)?e=e.filter(l=>l!=a):e.push(a),p("update:selected_token_meta_id_list",e)};return(a,e)=>{const l=y("el-input");return o(),_(g,null,[s("div",le,[x(l,{type:"text",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=i=>r.value=i),"prefix-icon":v(H),placeholder:"Search by artwork title or artist name"},null,8,["modelValue","prefix-icon"]),x(J,{all_tokens:t.token_meta_list,search_filter:r.value,use_local_storage:!1,onUpdateFilteredTokens:u,plaque_id:a.plaque_id},null,8,["all_tokens","search_filter","plaque_id"])]),s("div",{style:E({marginTop:"10px",overflowY:"auto",maxHeight:t.max_height?`${t.max_height}px`:""})},[d.value.length==0?(o(),_("div",se,"No artwork found")):z("",!0),(o(!0),_(g,null,P(d.value,i=>(o(),S(ae,{token_meta:i,in_list:Boolean(c.value.has(i.id)),onUpdate_token_list:h,plaque_id:a.plaque_id},null,8,["token_meta","in_list","plaque_id"]))),256)),oe],4)],64)}}});export{ce as _};
