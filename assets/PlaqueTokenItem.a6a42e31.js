import{c as N,d as R}from"./types.903c99bc.js";import{s as F}from"./util.cc9d3e3e.js";import{d as L,r as q,J as S,c as d,h as s,i as t,j as i,w as _,t as a,F as V,b as j,f as k,o as l,u as v,g as u,_ as M}from"./index.331660eb.js";import{u as W}from"./thumbnail-image.d7ac30ea.js";const J={class:"card-flex-container"},Q={key:0,style:{display:"flex"}},z={style:{display:"flex","align-items":"center",margin:"5px 25px 5px 5px"}},G={style:{display:"flex","flex-direction":"column","justify-content":"center"}},H={class:"bold"},K={class:"bold"},O={key:0,style:{display:"flex","align-items":"top","text-align":"left"}},U={class:"card-flex-left"},X={class:"flex-column"},Y={class:"bold bigger-font"},Z=["src"],tt={class:"card-flex-right"},et={class:"bold bigger-font description"},nt={key:0},ot={key:1},it=["href"],st=["href"],lt={style:{flex:"1","text-align":"right","padding-right":"1em","white-space":"nowrap"}},at={style:{opacity:"0.5"}},rt=L({__name:"PlaqueTokenItem",props:{token_meta:{}},setup(P){const y=j(),e=P,r=q(!1),p=q(!1),h=W(S(e,"token_meta")),T=d(()=>e.token_meta.entity.description?p.value||e.token_meta.entity.description.length<200?e.token_meta.entity.description:`${e.token_meta.entity.description.substring(0,200)}...`:"No artwork description"),$=d(()=>{const n=e.token_meta.entity.public_link;return n&&!n.startsWith("https://")?`https://${n}`:n}),A=d(()=>{const n=e.token_meta.entity.artist_social_link;return n&&!n.startsWith("https://")?`https://${n}`:n}),B=d(()=>N(e.token_meta.entity.platform)),x=d(()=>e.token_meta.entity),D=async()=>{const n=await R(e.token_meta);if(!n){F("Error getting source file");return}window.open(n,"_blank")},E=()=>{const n=y.resolve({name:"preview-plaque",params:{token_meta_id:e.token_meta.id}});window.open(n.href)};return(n,o)=>{const I=k("el-image"),g=k("el-collapse-transition"),m=k("el-button"),f=k("el-tooltip");return l(),s(V,null,[t("div",J,[t("div",null,[i(g,null,{default:_(()=>{var c,w,b,C;return[r.value?u("",!0):(l(),s("div",Q,[t("div",z,[i(I,{src:v(h),style:{width:"50px",height:"50px"},fit:"contain"},null,8,["src"])]),t("div",G,[t("div",H,a((w=(c=e.token_meta)==null?void 0:c.entity)==null?void 0:w.name),1),t("div",K,a((C=(b=e.token_meta)==null?void 0:b.entity)==null?void 0:C.artist),1)])]))]}),_:1}),i(g,null,{default:_(()=>[r.value?(l(),s("div",O,[t("div",U,[t("div",X,[o[3]||(o[3]=t("p",{class:"card-title"},"Title",-1)),t("div",Y,a(e.token_meta.entity.name),1),t("img",{style:{width:"150px"},src:v(h)},null,8,Z)])]),t("div",tt,[o[4]||(o[4]=t("p",{class:"card-title"},"Artist name",-1)),t("div",et,a(e.token_meta.entity.artist),1),t("div",null,a(T.value),1),t("div",null,[e.token_meta.entity.description&&e.token_meta.entity.description.length>200?(l(),s("a",{key:0,onClick:o[0]||(o[0]=c=>p.value=!p.value),class:"link"},[p.value?(l(),s("span",nt,"Less")):(l(),s("span",ot,"More"))])):u("",!0)]),t("div",null,[x.value.public_link?(l(),s("a",{key:0,href:$.value,target:"_blank"},"QR Code Link",8,it)):u("",!0)]),t("div",null,[x.value.artist_social_link?(l(),s("a",{key:0,href:A.value,target:"_blank"},"Artist Social Media Link",8,st)):u("",!0)])])])):u("",!0)]),_:1})]),t("div",lt,[i(f,{class:"box-item",effect:"dark",content:"Download art",placement:"top"},{default:_(()=>[i(m,{icon:"Download",text:"",circle:"",onClick:D})]),_:1}),i(f,{class:"box-item",effect:"dark",content:"Preview plaque",placement:"top"},{default:_(()=>[i(m,{icon:"Tickets",text:"",circle:"",onClick:E})]),_:1}),i(f,{class:"box-item",effect:"dark",content:"Edit art data",placement:"top"},{default:_(()=>[i(m,{icon:"Edit",text:"",circle:"",onClick:o[1]||(o[1]=c=>v(y).push({name:"edit-token",params:{token_meta_id:e.token_meta.id}}))})]),_:1}),i(m,{icon:r.value?"ArrowDownBold":"ArrowRightBold",onClick:o[2]||(o[2]=c=>r.value=!r.value),text:"",circle:""},null,8,["icon"]),t("div",at,a(B.value),1)])]),o[5]||(o[5]=t("hr",null,null,-1))],64)}}});var pt=M(rt,[["__scopeId","data-v-7d67b062"]]);export{pt as P};
