import{B as p}from"./types.1a161a7e.js";import{P as h,_ as u,f,d as r,b as i,g,R as l,c,G,p as m,i as w,e as q,y as k}from"./firebaseConfig.4d01e9b5.js";const d=h(f),_=u(d,"gallery"),D=async()=>(await r(_)).docs.map(a=>({id:a.id,entity:a.data()})),I=async s=>{const a=await m(_,{...p.createBaseEntity(),...s}),e=await i(a);return{id:e.id,entity:e.data()}},L=async(s,a)=>{a.updated_at=w.now();const e=g(d,"gallery",s);await q(e,a);const t=await i(e);return{id:t.id,entity:t.data()}},P=async s=>{const a=await i(g(d,"gallery",s));return{id:a.id,entity:a.data()}},M=async s=>{const a=l(_,c(G(),"in",s));return(await r(a)).docs.map(t=>({id:t.id,entity:t.data()}))},B=h(f),y=u(B,"gallery-token-meta"),T=async s=>{const a=l(y,c("gallery_id","==",s)),e=await r(a),t=[];return e.forEach(n=>{t.push({id:n.id,entity:n.data()})}),t},R=async s=>{const a=l(y,c("gallery_id","in",s)),e=await r(a),t=[];return e.forEach(n=>{t.push({id:n.id,entity:n.data()})}),t},v=async s=>{const a=[];for(const o of s)a.push(m(y,{...p.createBaseEntity(),...o}));const e=await Promise.all(a),t=[];return e.forEach(o=>{t.push(i(o))}),(await Promise.all(t)).map(o=>({id:o.id,entity:o.data()}))},x=async s=>{const a=l(y,c("gallery_id","==",s)),e=await r(a),t=[];for(const n of e.docs)t.push(k(n.ref));await Promise.all(t)};export{R as a,D as b,v as c,x as d,T as e,P as f,M as g,I as s,L as u};
