var u=Object.defineProperty,d=Object.defineProperties;var p=Object.getOwnPropertyDescriptors;var n=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;var o=(c,a,t)=>a in c?u(c,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[a]=t,e=(c,a)=>{for(var t in a||(a={}))f.call(a,t)&&o(c,t,a[t]);if(n)for(var t of n(a))l.call(a,t)&&o(c,t,a[t]);return c},i=(c,a)=>d(c,p(a));import{k as h}from"./index.5926e50e.js";import{B as m}from"./types.8335cbb0.js";import{D as y,p as w,f as A,r as B,x as g,k,l as x,e as b}from"./firebaseConfig.d7dbf4c4.js";const D=y(A),r=w(D,"account"),E=async c=>(await B(g(r,k("address","==",c)))).docs.map(t=>({id:t.id,entity:t.data()})),S=async(c,a)=>{const t=await x(r,i(e({},m.createBaseEntity()),{address:c,signature:a})),s=await b(t);return{id:s.id,entity:s.data()}},v=h({id:"account",state:()=>({account:null}),actions:{async loadAccount(c,a){const t=await E(c);if(t.length>0){this.account=t[0];return}this.account=await S(c,a)}}});export{v as u};
