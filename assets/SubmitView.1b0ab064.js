import{d as n,r as i,m as u,E as r,h as m,f as d,e as l,g as p,k as _,u as f,o as s}from"./index.828ff356.js";import{u as g}from"./account.5aadf9ad.js";import{s as h}from"./util.f18ea26f.js";import{_ as k}from"./SubmitTokenForm.d6d50ad4.js";import{o as v,a as b}from"./firebaseConfig.d7a6b5a9.js";import"./types.6a5ef88e.js";import"./token-meta.e73e8480.js";import"./gallery.214f82bf.js";import"./token-meta.390c7937.js";const x={style:{padding:"20px"}},y=_("h1",{style:{"margin-bottom":"15px"}},"Submit To MoDA Archives",-1),$=n({__name:"SubmitView",setup(A){const c=f(),e=g(),o=i();return u(async()=>{o.value=r.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),v(b,async t=>{t?(o.value=r.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),await e.loadAccount(t.uid).catch(a=>{h(`Error loading moda archive account - ${a}`)}),o.value.close()):(e.setAccount(null),o.value.close(),c.push({name:"login",query:{redir:window.location.href}}))})}),(t,a)=>(s(),m("div",x,[y,d(e).account?(s(),l(k,{key:0})):p("",!0)]))}});export{$ as default};
