import{d as X,r as y,c as z,B as J,h as w,i as t,w as l,u as U,f as u,o as c,l as o,t as $,j as _,_ as Y,p as de,m as re,z as I,a as D,b as we,C as he,D as Le,G as Ne,g as j,H as Ie,I as Ue,F as G,J as ie,A as se,n as Te,K as Ee}from"./index.ae856d64.js";import{u as M,d as De}from"./plaque.79224407.js";import{c as Me}from"./token-meta.6133e320.js";import{u as Z}from"./plaque.251d7ef6.js";import{u as ue,g as Oe}from"./account.17e5277f.js";import{s as F,m as Fe,a as xe}from"./util.c2a7c8d0.js";import{T as ke,O as Be}from"./types.294958f7.js";import{u as Ce}from"./breakpoints.448bfab6.js";import{u as be}from"./token-meta.b9cdedc0.js";import{_ as Re}from"./TokenSelectList.45c9d9d2.js";import{i as O,h as je,r as Je,j as Ge}from"./firebaseConfig.4d01e9b5.js";import{P as Ke}from"./PlaqueTokenItem.df087bd2.js";import{u as He}from"./gallery.69492853.js";import"./thumbnail-image.33209ed6.js";import"./ArtworkFilters.8922cf38.js";import"./gallery-token.f0159eba.js";const Qe=g=>(de("data-v-381e6960"),g=g(),re(),g),We={class:"dialog-container"},Xe={class:"dialog-footer"},Ye=Qe(()=>o("div",{style:{"flex-grow":"1"}},null,-1)),Ze=X({__name:"AddTokenDialog",props:{show_add_token_dialog:{type:Boolean},plaque_id:{}},emits:["update:show_add_token_dialog"],setup(g,{emit:s}){const v=g,r=y([]),x=y(!1),S=s,{screen_type:V}=Ce(),C=Z(),q=be(),k=ue(),d=z({get(){return v.show_add_token_dialog},set(i){S("update:show_add_token_dialog",i)}});J(d,i=>{i&&(r.value=JSON.parse(JSON.stringify(A.value.entity.token_meta_id_list)))});const A=z(()=>C.plaque_map[v.plaque_id]),T=z(()=>q.sorted_all_token_metas),B=async()=>{x.value=!0;try{for(let[i,a]of r.value.entries()){const p=q.all_token_metas[a];if(!p)throw"Failed to find store token for token: "+a;if(p.entity.platform!=ke.Opensea)continue;const h=JSON.parse(JSON.stringify(p));h.entity.user_id=k.get_account.id,h.entity.platform=ke.OpenseaArchive;const b=await Me(h.entity);r.value[i]=b.id}await M(v.plaque_id,{token_meta_id_list:r.value}),C.plaque_map[v.plaque_id].entity.token_meta_id_list=r.value}catch(i){F(`Error updating plaque tokens - ${i}`)}x.value=!1,d.value=!1},P=()=>{r.value=[]};return(i,a)=>{const p=u("el-button"),h=u("el-dialog");return c(),w("div",We,[t(h,{center:"",modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=b=>d.value=b),title:"Add artwork to plaque","close-on-click-modal":!1,fullscreen:U(V)=="xs",top:"2vh","destroy-on-close":""},{footer:l(()=>[o("div",Xe,[o("div",null,$(`Artwork in playlist: ${r.value.length}`),1),Ye,t(p,{onClick:P},{default:l(()=>[_("Clear")]),_:1}),t(p,{type:"info",onClick:B,loading:x.value},{default:l(()=>[_("Save")]),_:1},8,["loading"])])]),default:l(()=>[t(Re,{selected_token_meta_id_list:r.value,"onUpdate:selected_token_meta_id_list":a[0]||(a[0]=b=>r.value=b),token_meta_list:T.value},null,8,["selected_token_meta_id_list","token_meta_list"])]),_:1},8,["modelValue","fullscreen"])])}}});var et=Y(Ze,[["__scopeId","data-v-381e6960"]]);const tt={class:"controller-buttons"},lt=X({__name:"PlaqueController",props:{plaque:{}},setup(g){const s=Z(),v=g,r=y(!1),x=y(!1),S=y(!1),V=y(!1),C=z({get:()=>v.plaque.entity.orientation||"landscape",set:k=>{M(v.plaque.id,{orientation:k}).then(()=>{s.plaque_map[v.plaque.id].entity.orientation=k,I({type:"success",message:"Plaque orientation updated"})}).catch(d=>{F(`Error updating plaque orientation - ${d}`)})}}),q=k=>{const d={type:k,time_sent:O.now()};M(v.plaque.id,{command:d}).then(()=>{s.plaque_map[v.plaque.id].entity.command=d,I({type:"success",message:"Command sent to plaque"})}).catch(A=>{F(`Error sending command to plaque - ${A}`)}).finally(()=>{r.value=!1,x.value=!1,S.value=!1,V.value=!1})};return(k,d)=>{const A=u("el-button"),T=u("el-radio"),B=u("el-radio-group");return c(),w("div",null,[o("div",tt,[t(A,{circle:"",text:"",loading:r.value,icon:"DArrowLeft",onClick:d[0]||(d[0]=P=>{r.value=!0,q("playlist_previous")})},null,8,["loading"]),t(A,{circle:"",text:"",loading:x.value,icon:"VideoPlay",onClick:d[1]||(d[1]=P=>{x.value=!0,q("play")})},null,8,["loading"]),t(A,{circle:"",text:"",icon:"VideoPause",loading:S.value,onClick:d[2]||(d[2]=P=>{S.value=!0,q("pause")})},null,8,["loading"]),t(A,{circle:"",text:"",icon:"DArrowRight",loading:V.value,onClick:d[3]||(d[3]=P=>{V.value=!0,q("playlist_next")})},null,8,["loading"])]),t(B,{modelValue:C.value,"onUpdate:modelValue":d[4]||(d[4]=P=>C.value=P),style:{display:"flex","flex-direction":"column","align-items":"start","margin-top":"20px"}},{default:l(()=>[t(T,{label:"landscape",size:"small"},{default:l(()=>[_("Landscape")]),_:1}),t(T,{label:"portrait",size:"small"},{default:l(()=>[_("Portrait")]),_:1}),t(T,{label:"landscape_reversed",size:"small"},{default:l(()=>[_("Landscape Reversed")]),_:1}),t(T,{label:"portrait_reversed",size:"small"},{default:l(()=>[_("Portrait Reversed")]),_:1})]),_:1},8,["modelValue"])])}}});var at=Y(lt,[["__scopeId","data-v-100e65c8"]]);const L=g=>(de("data-v-6201c8cc"),g=g(),re(),g),ot={style:{display:"flex","align-items":"center",padding:"1em"}},nt={key:0},st=L(()=>o("div",{style:{"flex-grow":"1"}},null,-1)),it={class:"card-simple"},dt=L(()=>o("hr",null,null,-1)),rt=L(()=>o("div",{style:{"font-size":"var(--el-font-size-extra-small)"}},"title",-1)),ut=L(()=>o("div",{style:{"font-size":"var(--el-font-size-extra-small)"}},"artist",-1)),_t={style:{padding:"0.3em 1em"}},ct={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-right":"1em",padding:"1em"}},pt={key:0,class:"card-detail"},mt={style:{padding:"0 1em"}},vt={style:{display:"flex","align-items":"center","justify-content":"space-between",padding:"0.5em 1em"}},ft=L(()=>o("hr",null,null,-1)),yt=L(()=>o("div",{style:{padding:"1em"}},"No artwork added",-1)),gt=L(()=>o("hr",null,null,-1)),qt={style:{display:"flex",padding:"1em"}},ht=L(()=>o("div",{style:{"flex-grow":"1"}},null,-1)),kt={key:0,style:{padding:"1em"}},wt={style:{padding:"1em 0em",display:"flex","justify-content":"space-between","align-items":"center"}},xt={key:0},Ct=L(()=>o("div",{style:{"font-size":"var(--el-font-size-extra-small)"}},"Associated User",-1)),bt={key:0},$t={key:1},St={style:{"font-size":"var(--el-font-size-extra-small)"}},Vt={key:1},At={style:{"margin-bottom":"1em"}},Pt=L(()=>o("div",{style:{"font-size":"var(--el-font-size-extra-small)"}},"Machine Info",-1)),zt={key:0,style:{"margin-bottom":"1em"}},Lt=L(()=>o("div",{class:"caption"},"Admin only commands",-1)),Nt={style:{"margin-top":"1em"}},It=L(()=>o("div",{class:"caption"},"Enable Support VPN",-1)),Ut={style:{display:"flex","justify-content":"end"}},Tt=X({__name:"PlaqueCard",props:{plaque:{}},setup(g){const s=g,v=Z();we();const r=y("simple"),x=y(!1),S=y(!1),V=y(""),C=y(!1),q=y(!1),k=y(!1),d=y(!1);O.now();const A=async()=>{C.value=!0,await M(s.plaque.id,{name:s.plaque.entity.name}).catch(e=>{F(`Error updating plaque tokens - ${e}`)}),S.value=!1,C.value=!1},T=ue(),B=be(),P=z(()=>i.value.length==0?null:i.value[0]),i=z(()=>{const e=B.all_token_metas;return s.plaque.entity.token_meta_id_list.map(m=>e[m])}),a=z(()=>xe(s.plaque)),p=z(()=>{const e=s.plaque.entity.last_check_in_time;return e?new Date(e.seconds*1e3).toLocaleString("en-US",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}):"N/A"}),h=e=>new Date(e.seconds*1e3).toLocaleString("en-US",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),b=()=>{se.confirm(`Are you sure you want to clear tokens for plaque '${s.plaque.entity.name}'?`,"Clear tokens",{type:"warning"}).then(()=>{M(s.plaque.id,{token_meta_id_list:[]}).then(()=>{v.plaque_map[s.plaque.id].entity.token_meta_id_list=[],I({type:"success",message:"Tokens cleared"})}).catch(e=>{I({message:`Error clearing tokens from plaque - ${e}`,type:"error",showClose:!0,duration:12e3})})})},H=()=>{se.confirm(`Are you sure you want to forget the plaque named '${s.plaque.entity.name}'?`,"Forget plaque",{type:"warning"}).then(()=>{M(s.plaque.id,{user_id:"",token_meta_id_list:[]}).then(()=>{v.plaque_map[s.plaque.id].entity.user_id="",v.plaque_map[s.plaque.id].entity.token_meta_id_list=[],I({type:"success",message:"Plaque forgotten"})}).catch(e=>{I({message:`Error forgetting plaque - ${e}`,type:"error",showClose:!0,duration:12e3})})})};J(r,e=>{e=="settings"&&s.plaque.entity.user_id&&!V.value&&Oe(s.plaque.entity.user_id).then(n=>{V.value=n.entity.email}).catch(n=>{I({message:`Error loading user account - ${n}`,type:"error",showClose:!0,duration:12e3})})});const Q=z({get:()=>Boolean(s.plaque.entity.vpn_active),set:e=>{M(s.plaque.id,{vpn_active:e}).then(()=>{v.plaque_map[s.plaque.id].entity.vpn_active=e,I({type:"success",message:"VPN setting updated"})}).catch(n=>{F(`Error updating VPN setting- ${n}`)})}}),ee=z(()=>{var m,R,E;const e=(E=(R=(m=s==null?void 0:s.plaque)==null?void 0:m.entity)==null?void 0:R.machine_data)==null?void 0:E.updated_at;return e?new Date(e.seconds*1e3+e.nanoseconds/1e6).toLocaleString():"N/A"}),te=()=>{const e={type:"upload_logs",time_sent:O.now()};q.value=!0,M(s.plaque.id,{command:e}).then(()=>{v.plaque_map[s.plaque.id].entity.command=e,I({type:"success",message:"Command sent to plaque"})}).catch(n=>{F(`Error sending command to plaque - ${n}`)}).finally(()=>{q.value=!1})},le=()=>{se.confirm(`Are you sure you want to restart the plaque '${s.plaque.entity.name}'?`,"Restart plaque",{type:"warning"}).then(()=>{const e={type:"restart_machine",time_sent:O.now()};k.value=!0,M(s.plaque.id,{command:e}).then(()=>{v.plaque_map[s.plaque.id].entity.command=e,I({type:"success",message:"Command sent to plaque"})}).catch(n=>{F(`Error sending command to plaque - ${n}`)}).finally(()=>{k.value=!1})})},ae=async e=>{const n=je(),m=`viewer-logs/${e}`,R=Je(n,m);try{const E=await Ge(R);window.open(E,"_blank");return}catch(E){console.log(`downloadLogs - failed to download logs for ${e}`,E),F(`Error downloading logs - ${E}`)}return""};return(e,n)=>{const m=u("el-button"),R=u("el-tag"),E=u("el-tooltip"),_e=u("el-col"),$e=u("el-row"),Se=u("ArrowRight"),oe=u("el-icon"),ne=u("el-collapse-transition"),ce=u("Close"),W=u("el-table-column"),Ve=u("el-table"),Ae=u("el-dialog"),Pe=u("el-switch"),ze=u("el-card");return c(),D(ze,null,{default:l(()=>[o("div",ot,[S.value?he((c(),w("input",{key:1,"onUpdate:modelValue":n[0]||(n[0]=f=>s.plaque.entity.name=f),class:"edit-name-input"},null,512)),[[Le,s.plaque.entity.name]]):(c(),w("h1",nt,$(s.plaque.entity.name),1)),S.value?j("",!0):(c(),D(m,{key:2,icon:U(Ne),onClick:n[1]||(n[1]=f=>S.value=!0),class:"editIcon",circle:""},null,8,["icon"])),S.value?(c(),D(m,{key:3,icon:U(Ie),loading:C.value,onClick:A,class:"editIcon",circle:"",type:C.value?"":"success",text:""},null,8,["icon","loading","type"])):j("",!0),st,t(E,{class:"box-item",effect:"dark",content:`Last activity ${p.value}`,placement:"top"},{default:l(()=>[a.value?(c(),D(R,{key:0,class:"ml-2",type:"success"},{default:l(()=>[_("online")]),_:1})):(c(),D(R,{key:1,class:"ml-2",type:"danger"},{default:l(()=>[_("offline")]),_:1}))]),_:1},8,["content"])]),t(ne,null,{default:l(()=>[he(o("section",it,[dt,t($e,{style:{padding:"1em"}},{default:l(()=>[t(_e,{span:12},{default:l(()=>{var f;return[rt,o("span",null,$(((f=P.value)==null?void 0:f.entity.name)||"N/A"),1)]}),_:1}),t(_e,{span:12},{default:l(()=>{var f;return[ut,_(" "+$(((f=P.value)==null?void 0:f.entity.artist)||"N/A"),1)]}),_:1})]),_:1}),o("div",_t,$(`Total artworks: ${e.plaque.entity.token_meta_id_list.length}`),1),o("div",ct,[t(m,{type:"info",onClick:n[2]||(n[2]=f=>x.value=!0)},{default:l(()=>[_("Add Artwork")]),_:1}),t(m,{onClick:n[3]||(n[3]=f=>r.value="detail")},{default:l(()=>[_(" Details"),t(oe,{class:"el-icon--right"},{default:l(()=>[t(Se)]),_:1})]),_:1})])],512),[[Ue,r.value=="simple"]])]),_:1}),t(ne,null,{default:l(()=>[r.value=="detail"?(c(),w("section",pt,[o("p",mt,$(`Total artworks: ${e.plaque.entity.token_meta_id_list.length}`),1),o("div",vt,[t(m,{onClick:n[4]||(n[4]=f=>r.value="settings")},{default:l(()=>[_("Settings")]),_:1}),t(m,{onClick:b},{default:l(()=>[_("Clear Artwork")]),_:1})]),ft,i.value.length==0?(c(),w(G,{key:0},[yt,gt],64)):j("",!0),(c(!0),w(G,null,ie(i.value,f=>(c(),D(Ke,{token_meta:f},null,8,["token_meta"]))),256)),o("div",qt,[t(m,{type:"info",onClick:n[5]||(n[5]=f=>x.value=!0)},{default:l(()=>[_("Add Artwork")]),_:1}),ht,t(m,{onClick:n[6]||(n[6]=f=>r.value="simple")},{default:l(()=>[_("Close"),t(oe,{class:"el-icon--right"},{default:l(()=>[t(ce)]),_:1})]),_:1})])])):j("",!0)]),_:1}),t(ne,null,{default:l(()=>{var f,pe,me,ve,fe,ye,ge,qe;return[r.value=="settings"?(c(),w("section",kt,[t(at,{plaque:s.plaque},null,8,["plaque"]),o("div",wt,[e.plaque.entity.user_id?(c(),w("div",xt,[Ct,V.value?(c(),w("div",bt,$(V.value),1)):(c(),w("div",$t,"Loading...")),o("div",St,$(e.plaque.entity.user_id),1)])):(c(),w("div",Vt,"No associated user")),e.plaque.entity.user_id?(c(),D(m,{key:2,type:"danger",plain:"",onClick:H},{default:l(()=>[_("Forget Display")]),_:1})):j("",!0)]),o("div",At,[Pt,o("div",null,"Machine name: "+$((pe=(f=e.plaque.entity.machine_data)==null?void 0:f.machine_name)!=null?pe:"N/A"),1),o("div",null,"Version: "+$((ve=(me=e.plaque.entity.machine_data)==null?void 0:me.version)!=null?ve:"N/A"),1),o("div",null,"Local IP: "+$((ye=(fe=e.plaque.entity.machine_data)==null?void 0:fe.local_ip)!=null?ye:"N/A"),1),o("div",null,"Public IP: "+$((qe=(ge=e.plaque.entity.machine_data)==null?void 0:ge.public_ip)!=null?qe:"N/A"),1),o("div",null,"Updated At: "+$(ee.value),1)]),U(T).is_user_admin?(c(),w("div",zt,[Lt,t(m,{plain:"",onClick:te,loading:q.value},{default:l(()=>[_("Upload Logs To Cloud")]),_:1},8,["loading"]),t(m,{plain:"",onClick:n[7]||(n[7]=N=>d.value=!0)},{default:l(()=>[_("View Logs")]),_:1}),t(m,{type:"danger",plain:"",onClick:le,loading:k.value},{default:l(()=>[_("Restart Machine")]),_:1},8,["loading"]),t(Ae,{modelValue:d.value,"onUpdate:modelValue":n[8]||(n[8]=N=>d.value=N),title:"Uploaded Logs",width:"75%"},{default:l(()=>[t(Ve,{data:e.plaque.entity.uploaded_log_files},{default:l(()=>[t(W,{prop:"file_name",label:"File Name",width:"400"}),t(W,{prop:"upload_time",label:"Time Uploaded"},{default:l(({row:N})=>[_($(h(N.upload_time)),1)]),_:1}),t(W,{prop:"bytes",label:"Size"},{default:l(({row:N})=>[_($(U(Fe)(N.bytes)),1)]),_:1}),t(W,{fixed:"right",label:"",width:"80"},{default:l(({row:N})=>[t(m,{icon:"Download",text:"",circle:"",onClick:Kt=>ae(N.file_name)},null,8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue"]),o("div",Nt,[It,t(Pe,{modelValue:Q.value,"onUpdate:modelValue":n[9]||(n[9]=N=>Q.value=N),"active-text":"Enabled","inactive-text":"Off"},null,8,["modelValue"])])])):j("",!0),o("div",Ut,[t(m,{onClick:n[10]||(n[10]=N=>r.value="detail")},{default:l(()=>[_("Close"),t(oe,{class:"el-icon--right"},{default:l(()=>[t(ce)]),_:1})]),_:1})])])):j("",!0)]}),_:1}),t(et,{plaque_id:s.plaque.id,show_add_token_dialog:x.value,"onUpdate:show_add_token_dialog":n[11]||(n[11]=f=>x.value=f)},null,8,["plaque_id","show_add_token_dialog"])]),_:1})}}});var Et=Y(Tt,[["__scopeId","data-v-6201c8cc"]]);const K=g=>(de("data-v-517aa68d"),g=g(),re(),g),Dt=K(()=>o("div",{style:{"font-size":"var(--el-font-size-extra-small)"}},"Filter by gallery",-1)),Mt=K(()=>o("div",{style:{"font-size":"var(--el-font-size-extra-small)"}},"Online only",-1)),Ot=K(()=>o("div",{class:"caption"},"Sort order",-1)),Ft=K(()=>o("div",{style:{"padding-bottom":"90px"}},null,-1)),Bt={class:"add-button-container"},Rt={style:{display:"flex","align-items":"center","justify-content":"center",height:"100%"}},jt=K(()=>o("div",{style:{"font-size":"17px"}},"Add plaque",-1)),Jt={style:{display:"flex","justify-content":"space-between","flex-wrap":"wrap"}},Gt=X({__name:"PlaqueList",setup(g){const s=y(!1),{screen_type:v}=Ce(),r=y(!1),x=we(),S=ue(),V=He(),C=y(""),q=y(localStorage.getItem("plaque_list_filter_by_gallery")||"");J(q,i=>{localStorage.setItem("plaque_list_filter_by_gallery",i)});const k=y(localStorage.getItem("online_filter")==="true"||!1);J(k,i=>{if(i){localStorage.setItem("online_filter","true");return}localStorage.setItem("online_filter","false")});const d=y(localStorage.getItem("plaque_list_sort_order")||"name");J(d,i=>{localStorage.setItem("plaque_list_sort_order",i)});const A=Z(),T=async()=>{s.value=!0,await De({name:"Test Plaque",user_id:S.get_account.id,token_meta_id_list:[],created_at:O.now(),updated_at:O.now(),orientation:Be.Landscape,command:{type:"",time_sent:O.fromMillis(0)},last_check_in_time:O.fromMillis(0),vpn_active:!1,machine_data:{machine_name:"",version:"",local_ip:"",public_ip:"",updated_at:O.fromMillis(0)}}).catch(i=>I({message:`Error creating test plaque- ${i}`,type:"error",showClose:!0,duration:12e3})),s.value=!1,r.value=!1},B=z(()=>JSON.parse(JSON.stringify(A.all_plaque_list)).sort((a,p)=>{const h=a.entity.name.toLowerCase(),b=p.entity.name.toLowerCase();return h<b?-1:h>b?1:0})),P=z(()=>{let i=[...B.value];return i=i.filter(a=>a.entity.name||a.entity.user_id||a.entity.token_meta_id_list.length>0),q.value&&(i=i.filter(a=>{var p;return(p=V.gallery_list.find(h=>h.id==q.value))==null?void 0:p.entity.plaque_id_list.includes(a.id)})),k.value&&(i=i.filter(a=>xe(a))),d.value=="name"?i=i.sort((a,p)=>a.entity.name.localeCompare(p.entity.name)):d.value=="last_check_in_time"&&(i=i.sort((a,p)=>a.entity.last_check_in_time==null&&p.entity.last_check_in_time==null?0:a.entity.last_check_in_time==null?1:p.entity.last_check_in_time==null?-1:p.entity.last_check_in_time.seconds-a.entity.last_check_in_time.seconds)),C.value?i.filter(a=>a.entity.name.toLowerCase().includes(C.value.toLowerCase())):i});return(i,a)=>{const p=u("el-input"),h=u("el-button"),b=u("el-option"),H=u("el-select"),Q=u("el-switch"),ee=u("el-popover"),te=u("Plus"),le=u("el-icon"),ae=u("el-dialog");return c(),w(G,null,[o("div",{class:"subheader",style:Te([{display:"flex","align-items":"center"},U(v)=="xs"?"padding: 0px 8px 10px;":""])},[t(p,{modelValue:C.value,"onUpdate:modelValue":a[0]||(a[0]=e=>C.value=e),"prefix-icon":U(Ee),placeholder:"Search plaques",style:{"max-width":"350px"},clearable:""},null,8,["modelValue","prefix-icon"]),t(ee,{placement:"bottom",title:"Plaque Filters",width:300,trigger:"click"},{reference:l(()=>[t(h,{icon:"Filter",style:{"margin-left":"10px"},type:"info",size:"small"},{default:l(()=>[_("Filters")]),_:1})]),default:l(()=>[Dt,t(H,{modelValue:q.value,"onUpdate:modelValue":a[1]||(a[1]=e=>q.value=e),placeholder:"Filter by gallery",style:{width:"260px","margin-bottom":"12px"}},{default:l(()=>[t(b,{label:"All plaques",value:""}),(c(!0),w(G,null,ie(U(V).gallery_list,e=>(c(),D(b,{key:e.id,label:`${e.entity.name}`,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),Mt,t(Q,{modelValue:k.value,"onUpdate:modelValue":a[2]||(a[2]=e=>k.value=e),style:{"margin-bottom":"1em"}},null,8,["modelValue"]),Ot,t(H,{modelValue:d.value,"onUpdate:modelValue":a[3]||(a[3]=e=>d.value=e),placeholder:"Sort by",class:"filter-select"},{default:l(()=>[t(b,{label:"Sort by name",value:"name"}),t(b,{label:"Sort by last activity",value:"last_check_in_time"})]),_:1},8,["modelValue"])]),_:1}),t(h,{icon:"Camera",type:"info",onClick:a[4]||(a[4]=e=>U(x).push("qr-scan")),style:{"margin-left":"10px"},size:"small"},{default:l(()=>[_("Scan")]),_:1})],4),Ft,(c(!0),w(G,null,ie(P.value,e=>(c(),D(Et,{plaque:e,key:e.id},null,8,["plaque"]))),128)),o("div",Bt,[o("div",Rt,[o("div",{class:"add-button",onClick:a[5]||(a[5]=e=>r.value=!0)},[t(le,{style:{"font-size":"26px","margin-bottom":"6px"}},{default:l(()=>[t(te)]),_:1}),jt])])]),t(ae,{modelValue:r.value,"onUpdate:modelValue":a[7]||(a[7]=e=>r.value=e),title:"Add plaque",width:U(v)=="xs"?"90%":"50%",style:{"max-width":"500px"}},{default:l(()=>[o("div",Jt,[t(h,{onClick:a[6]||(a[6]=e=>{U(x).push("qr-scan"),r.value=!1}),icon:"camera",color:"#000000",style:{margin:"10px 12px 10px 0px"}},{default:l(()=>[_("Scan Plaque QR Code")]),_:1}),t(h,{icon:"plus",onClick:T,loading:s.value,style:{margin:"10px 0px 10px 0px"},color:"#000000"},{default:l(()=>[_("Add test plaque ")]),_:1},8,["loading"])])]),_:1},8,["modelValue","width"])],64)}}});var ul=Y(Gt,[["__scopeId","data-v-517aa68d"]]);export{ul as default};
