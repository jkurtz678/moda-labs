import{s as y}from"./util.9e8ad3ce.js";import{_ as w}from"./bid.77013cf3.js";import{h as x}from"./token-meta.9b03395e.js";import{i as g}from"./firebaseConfig.4d01e9b5.js";import{d as P,r as a,Q as C,q as E,E as T,c as q,h as f,a as A,l as n,i as l,w as d,e as L,f as M,o as m,j as u}from"./index.1f4cb6ee.js";import"./types.67d14e22.js";import"./thumbnail-image.622f304a.js";const B={class:"container"},z={key:0},V={style:{padding:"20px 0px",display:"flex",gap:"10px",width:"100%"}},$={style:{padding:"12px 0px"}},j=n("div",{style:{"font-size":"var(--el-font-size-extra-small)"}},"Learn More",-1),N={style:{display:"flex",gap:"10px",width:"100%"}},K=P({__name:"QrLandingView",setup(Q){const r=L();a();const v=a({token_meta_id:"",bidding_name:"",email:"",phone_number:"",amount:0,created_at:g.now(),updated_at:g.now()}),_=a([]),i=a();C({bidding_name:[{required:!0,message:"Please enter your bidding name",trigger:"blur"}],email:[{required:!0,message:"Please enter your email",trigger:"blur"},{type:"email",message:"Please enter a valid email address",trigger:["blur","change"]}],phone_number:[{required:!0,message:"Please enter your phone number",trigger:"blur"},{pattern:/^\d{10}$/,message:"Please enter a valid 10-digit phone number",trigger:"blur"}],amount:[{required:!0,message:"Please enter a bid amount",trigger:"blur"},{validator:(e,o,t)=>{let s=0;c.value&&(s=c.value.entity.amount+1),o<=s?t(new Error(`Please enter a bid amount greater than $${s}`)):t()},trigger:"blur"},{pattern:/^\d+(\.\d+)?$/,message:"Please enter a valid number",trigger:"blur"}]});const p=a();a(!1),E(async()=>{if(!r.params.token_meta_id||r.params.token_meta_id instanceof Array){y("Error invalid token meta id");return}p.value=T.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),console.log("route.params.token_meta_id",r.params.token_meta_id),await x(r.params.token_meta_id,e=>{i.value=e,v.value.token_meta_id=e.id,p.value.close()})});const c=q(()=>_.value.length===0?null:_.value.reduce((e,o)=>e.entity.amount>o.entity.amount?e:o)),b=()=>{window.open("https://moda-labs.xyz/","_blank")},h=()=>{window.open("https://www.instagram.com/projekt.______/","_blank")},k=()=>{window.location.href="venmo://paycharge?txn=pay&recipients=ModaArt&note=Tip%20for%20%3Cartist-name%3E",setTimeout(()=>{window.open("https://account.venmo.com/pay?recipients=ModaArt&note=Tip%20for%20%3Cartist-name%3E","_blank")},1500)};return(e,o)=>{const t=M("el-button");return m(),f("div",B,[i.value?(m(),A(w,{key:1,token_meta:i.value},null,8,["token_meta"])):(m(),f("div",z,"Loading")),n("div",null,[n("div",V,[l(t,{color:"#000000",size:"large",onClick:k,style:{"flex-grow":"1","font-size":"18px"},round:""},{default:d(()=>[u("Tip Artist")]),_:1})]),n("div",$,[j,n("div",N,[l(t,{onClick:b,style:{"flex-grow":"1"}},{default:d(()=>[u("Moda Plaque")]),_:1}),l(t,{onClick:h,style:{"flex-grow":"1"}},{default:d(()=>[u("Projekt ______")]),_:1})])])])])}}});export{K as default};
