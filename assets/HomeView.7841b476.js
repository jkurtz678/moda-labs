import{u as A,_ as B,a as D,b as M,c as L}from"./token-meta.a8067296.js";import{d as C,u as V,a as P,c as S,r as l,o as r,b as f,e as a,f as y,g as b,F as q,h as n,w as _,t as U,i as E,j as $,_ as F,k as H,l as I,E as j,m as O,R as z}from"./index.15aa8869.js";import{u as N,s as k}from"./account.c0ed453c.js";import{u as G}from"./plaque.84cc2a15.js";import"./token-meta.75ccf96c.js";import"./plaque.eacbcaaa.js";const J={style:{display:"flex","align-items":"center"}},K=E("div",{style:{"flex-grow":"1"}},null,-1),Q=$(" Cancel "),W=E("div",{style:{"flex-grow":"1"}},null,-1),X={key:0,style:{"margin-right":"10px"}},Y=$("Logout"),Z=C({setup(R){const t=V(),g=P(),i=N(),{width:v,screen_type:u}=A(),d=(e,o)=>{e.paneName&&typeof e.paneName=="string"&&t.push({name:e.paneName})},m=S(()=>{const e=i.account;if(!e)return"";if(e.entity.ens_name)return e.entity.ens_name;const o=e.entity.wallet_address;return`${o.substring(0,6)}...${o.substring(o.length-4)}`}),c=()=>{i.logout(),t.push({name:"landing",query:{redir:window.location.href}})},p=e=>new URL({"../assets/base.css":B,"../assets/logo.png":D,"../assets/logo.svg":M}[`../assets/${e}`],self.location).href;return(e,o)=>{const h=l("el-image"),s=l("el-button"),w=l("el-tab-pane"),T=l("el-tabs");return r(),f("div",J,[a(u)!="xs"?(r(),y(h,{key:0,src:p("logo.png"),style:{width:"43px",height:"43px","margin-right":"2em"}},null,8,["src"])):b("",!0),a(t).currentRoute.value.name=="qr-scan"?(r(),f(q,{key:1},[K,n(s,{icon:"close",onClick:o[0]||(o[0]=x=>a(t).push("plaque-list"))},{default:_(()=>[Q]),_:1})],64)):(r(),f(q,{key:2},[n(T,{modelValue:a(g).name,"onUpdate:modelValue":o[1]||(o[1]=x=>a(g).name=x),onTabClick:d},{default:_(()=>[n(w,{label:"Plaques",name:"plaque-list"}),n(w,{label:"Tokens",name:"token-list"})]),_:1},8,["modelValue"]),W,a(u)!="xs"?(r(),f("div",X,U(a(m)),1)):b("",!0),n(s,{onClick:c,style:{"margin-left":"1em"}},{default:_(()=>[Y]),_:1})],64))])}}});const ee=C({setup(R){const t=N(),g=G(),i=L(),v=V(),u=H(!1);return I(async()=>{const d=j.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),{wallet_address:m,signature:c,ens_name:p}=t.getCachedAccountData();if(!m||!c){v.push({name:"landing"}),d.close();return}if(await t.loadAccount(m,c,p),t.account==null){O("Error - failed to load account");return}const e=g.loadPlaques(t.account.entity.wallet_address).catch(s=>k(`Error loading plaques - ${s}`)),o=i.loadArchiveTokenMetas(t.get_account.entity.wallet_address).catch(s=>k(`Error loading archive token metas - ${s}`)),h=i.loadOpenseaTokenMetas(t.get_account.entity.wallet_address).catch(s=>k(`Error loading opensea tokens - ${s}`));await Promise.all([e,o,h]),u.value=!0,d.close()}),(d,m)=>{const c=l("el-header"),p=l("el-main"),e=l("el-container");return r(),y(e,{style:{height:"100%"}},{default:_(()=>[n(c,{class:"header"},{default:_(()=>[n(Z)]),_:1}),n(p,{style:{"background-color":"#DAD9D7"}},{default:_(()=>[u.value?(r(),y(a(z),{key:0})):b("",!0)]),_:1})]),_:1})}}});var le=F(ee,[["__scopeId","data-v-5195bd86"]]);export{le as default};
