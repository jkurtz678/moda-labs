import{d as n,r as i,q as u,E as r,h as m,u as l,a as d,g as p,l as g,b as h,o as s}from"./index.78684eed.js";import{u as _}from"./account.d0bb6c58.js";import{s as f}from"./util.d924cb30.js";import{S as b}from"./SubmitTokenForm.77589f8f.js";import{o as k,a as v}from"./firebaseConfig.4d01e9b5.js";import"./types.903c99bc.js";import"./gallery-token.7f50acd9.js";import"./token-meta.3b6b8610.js";import"./token-meta.56e855dc.js";const x={style:{padding:"20px"}},y=g("h1",{style:{"margin-bottom":"15px"}},"Submit To MoDA Archives",-1),N=n({__name:"SubmitView",setup(A){const c=h(),e=_(),o=i();return u(async()=>{o.value=r.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),k(v,async t=>{t?(o.value=r.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),await e.loadAccount(t.uid).catch(a=>{f(`Error loading moda archive account - ${a}`)}),o.value.close()):(e.setAccount(null),o.value.close(),c.push({name:"login",query:{redir:window.location.href}}))})}),(t,a)=>(s(),m("div",x,[y,l(e).account?(s(),d(b,{key:0})):p("",!0)]))}});export{N as default};
