import{B as d}from"./types.d2ec9214.js";import{b as u,T as p,f as w,j as _,c as m,B as f,Q as h,O as i,n as g,A as y,K as B}from"./firebaseConfig.d7a6b5a9.js";const o=u(w),r=p(o,"gallery"),A=async(t,a)=>{await _(m(r),s=>{const n=s.docs.map(e=>({id:e.id,entity:e.data()}));a(n.filter(e=>{var l,c;return(c=(l=e==null?void 0:e.entity)==null?void 0:l.user_id_list)==null?void 0:c.includes(t)}))})},j=async()=>(await f(r)).docs.map(a=>({id:a.id,entity:a.data()})),q=async t=>{const a=await h(r,{...d.createBaseEntity(),...t}),s=await i(a);return{id:s.id,entity:s.data()}},G=async(t,a)=>{a.updated_at=g.now();const s=y(o,"gallery",t);await B(s,a);const n=await i(s);return{id:n.id,entity:n.data()}},b=async t=>{const a=await i(y(o,"gallery",t));return{id:a.id,entity:a.data()}},D=async(t,a)=>{const s=await b(t);return await G(t,{token_meta_id_list:[...s.entity.token_meta_id_list,a]})};export{A as a,D as b,j as g,q as s,G as u};
