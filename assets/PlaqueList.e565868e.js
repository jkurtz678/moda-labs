import{_ as Y,d as Z,r as q,c as L,B as K,b as u,o as p,h as b,i as e,w as l,k as a,t as S,j as c,f as m,C as re,p as ue,m as _e,z as I,u as xe,e as D,D as ke,G as Ne,H as Ie,g as J,I as Ue,J as Ee,F as H,K as de,A as ie,l as Te,L as De}from"./index.ec1ec87e.js";import{u as M,d as Me}from"./plaque.180c7ae7.js";import{c as Oe}from"./token-meta.16ce217f.js";import{u as ee}from"./plaque.109783cd.js";import{u as ce,g as Fe}from"./account.c22e3b3d.js";import{s as F,a as Ce,m as Be}from"./util.99980a82.js";import{T as we,O as Re}from"./types.3cc10997.js";import{u as be}from"./breakpoints.1f44c07a.js";import{u as $e}from"./token-meta.9ad1bcbd.js";import{_ as je}from"./TokenSelectList.e4f6e1b8.js";import{n as O,g as Je,d as Ge,e as Ke}from"./firebaseConfig.4bdd3a5f.js";import{P as He}from"./PlaqueTokenItem.ef02f2b3.js";import{u as Qe}from"./gallery.52a437ca.js";import"./thumbnail-image.cc420ad9.js";import"./ArtworkFilters.93609c35.js";import"./gallery-token.25579f23.js";const We=d=>(ue("data-v-381e6960"),d=d(),_e(),d),Xe={class:"dialog-container"},Ye={class:"dialog-footer"},Ze=We(()=>a("div",{style:{"flex-grow":"1"}},null,-1)),et=Z({__name:"AddTokenDialog",props:{show_add_token_dialog:{type:Boolean},plaque_id:null},emits:["update:show_add_token_dialog"],setup(d,{emit:o}){const k=d,r=q([]),$=q(!1),{screen_type:A}=be(),V=ee(),x=$e(),C=ce(),f=L({get(){return k.show_add_token_dialog},set(h){o("update:show_add_token_dialog",h)}});K(f,h=>{h&&(r.value=JSON.parse(JSON.stringify(_.value.entity.token_meta_id_list)))});const _=L(()=>V.plaque_map[k.plaque_id]),P=L(()=>x.sorted_all_token_metas),U=async()=>{$.value=!0;try{for(let[h,i]of r.value.entries()){const n=x.all_token_metas[i];if(!n)throw"Failed to find store token for token: "+i;if(n.entity.platform!=we.Opensea)continue;const v=JSON.parse(JSON.stringify(n));v.entity.user_id=C.get_account.id,v.entity.platform=we.OpenseaArchive;const w=await Oe(v.entity);r.value[h]=w.id}await M(k.plaque_id,{token_meta_id_list:r.value}),V.plaque_map[k.plaque_id].entity.token_meta_id_list=r.value}catch(h){F(`Error updating plaque tokens - ${h}`)}$.value=!1,f.value=!1},B=()=>{r.value=[]};return(h,i)=>{const n=u("el-button"),v=u("el-dialog");return p(),b("div",Xe,[e(v,{center:"",modelValue:m(f),"onUpdate:modelValue":i[1]||(i[1]=w=>re(f)?f.value=w:null),title:"Add artwork to plaque","close-on-click-modal":!1,fullscreen:m(A)=="xs",top:"2vh","destroy-on-close":""},{footer:l(()=>[a("div",Ye,[a("div",null,S(`Artwork in playlist: ${r.value.length}`),1),Ze,e(n,{onClick:B},{default:l(()=>[c("Clear")]),_:1}),e(n,{type:"info",onClick:U,loading:$.value},{default:l(()=>[c("Save")]),_:1},8,["loading"])])]),default:l(()=>[e(je,{selected_token_meta_id_list:r.value,"onUpdate:selected_token_meta_id_list":i[0]||(i[0]=w=>r.value=w),token_meta_list:m(P)},null,8,["selected_token_meta_id_list","token_meta_list"])]),_:1},8,["modelValue","fullscreen"])])}}});var tt=Y(et,[["__scopeId","data-v-381e6960"]]);const lt={class:"controller-buttons"},at=Z({__name:"PlaqueController",props:{plaque:null},setup(d){const o=d,k=ee(),r=q(!1),$=q(!1),A=q(!1),V=q(!1),x=L({get:()=>o.plaque.entity.orientation||"landscape",set:f=>{M(o.plaque.id,{orientation:f}).then(()=>{k.plaque_map[o.plaque.id].entity.orientation=f,I({type:"success",message:"Plaque orientation updated"})}).catch(_=>{F(`Error updating plaque orientation - ${_}`)})}}),C=f=>{const _={type:f,time_sent:O.now()};M(o.plaque.id,{command:_}).then(()=>{k.plaque_map[o.plaque.id].entity.command=_,I({type:"success",message:"Command sent to plaque"})}).catch(P=>{F(`Error sending command to plaque - ${P}`)}).finally(()=>{r.value=!1,$.value=!1,A.value=!1,V.value=!1})};return(f,_)=>{const P=u("el-button"),U=u("el-radio"),B=u("el-radio-group");return p(),b("div",null,[a("div",lt,[e(P,{circle:"",text:"",loading:r.value,icon:"DArrowLeft",onClick:_[0]||(_[0]=h=>{r.value=!0,C("playlist_previous")})},null,8,["loading"]),e(P,{circle:"",text:"",loading:$.value,icon:"VideoPlay",onClick:_[1]||(_[1]=h=>{$.value=!0,C("play")})},null,8,["loading"]),e(P,{circle:"",text:"",icon:"VideoPause",loading:A.value,onClick:_[2]||(_[2]=h=>{A.value=!0,C("pause")})},null,8,["loading"]),e(P,{circle:"",text:"",icon:"DArrowRight",loading:V.value,onClick:_[3]||(_[3]=h=>{V.value=!0,C("playlist_next")})},null,8,["loading"])]),e(B,{modelValue:m(x),"onUpdate:modelValue":_[4]||(_[4]=h=>re(x)?x.value=h:null),style:{display:"flex","flex-direction":"column","align-items":"start","margin-top":"20px"}},{default:l(()=>[e(U,{label:"landscape",size:"small"},{default:l(()=>[c("Landscape")]),_:1}),e(U,{label:"portrait",size:"small"},{default:l(()=>[c("Portrait")]),_:1}),e(U,{label:"landscape_reversed",size:"small"},{default:l(()=>[c("Landscape Reversed")]),_:1}),e(U,{label:"portrait_reversed",size:"small"},{default:l(()=>[c("Portrait Reversed")]),_:1})]),_:1},8,["modelValue"])])}}});var nt=Y(at,[["__scopeId","data-v-100e65c8"]]);const z=d=>(ue("data-v-05a01d1c"),d=d(),_e(),d),ot={style:{display:"flex","align-items":"center",padding:"1em"}},st={key:0},it=z(()=>a("div",{style:{"flex-grow":"1"}},null,-1)),dt={class:"card-simple"},rt=z(()=>a("hr",null,null,-1)),ut=z(()=>a("div",{style:{"font-size":"var(--el-font-size-extra-small)"}},"title",-1)),_t=z(()=>a("div",{style:{"font-size":"var(--el-font-size-extra-small)"}},"artist",-1)),ct={style:{padding:"0.3em 1em"}},pt={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-right":"1em",padding:"1em"}},mt={key:0,class:"card-detail"},yt={style:{padding:"0 1em"}},ft={style:{display:"flex","align-items":"center","justify-content":"space-between",padding:"0.5em 1em"}},vt=z(()=>a("hr",null,null,-1)),gt=z(()=>a("div",{style:{padding:"1em"}},"No artwork added",-1)),qt=z(()=>a("hr",null,null,-1)),ht={style:{display:"flex",padding:"1em"}},kt=z(()=>a("div",{style:{"flex-grow":"1"}},null,-1)),wt={key:0,style:{padding:"1em"}},xt={style:{padding:"1em 0em",display:"flex","justify-content":"space-between","align-items":"center"}},Ct={key:0},bt=z(()=>a("div",{style:{"font-size":"var(--el-font-size-extra-small)"}},"Associated User",-1)),$t={key:0},St={key:1},Vt={style:{"font-size":"var(--el-font-size-extra-small)"}},At={key:1},Pt={style:{"margin-bottom":"1em"}},Lt=z(()=>a("div",{style:{"font-size":"var(--el-font-size-extra-small)"}},"Machine Info",-1)),zt={key:0,style:{"margin-bottom":"1em"}},Nt=z(()=>a("div",{class:"caption"},"Admin only commands",-1)),It={style:{"margin-top":"1em"}},Ut=z(()=>a("div",{class:"caption"},"Enable Support VPN",-1)),Et={style:{display:"flex","justify-content":"end"}},Tt=Z({__name:"PlaqueCard",props:{plaque:null},setup(d){const o=d,k=ee();xe();const r=q("simple"),$=q(!1),A=q(!1),V=q(""),x=q(!1),C=q(!1),f=q(!1),_=q(!1);O.now();const P=async()=>{x.value=!0,await M(o.plaque.id,{name:o.plaque.entity.name}).catch(t=>{F(`Error updating plaque tokens - ${t}`)}),A.value=!1,x.value=!1},U=ce(),B=$e(),h=L(()=>i.value.length==0?null:i.value[0]),i=L(()=>{const t=B.all_token_metas;return o.plaque.entity.token_meta_id_list.map(y=>t[y])}),n=L(()=>Ce(o.plaque)),v=L(()=>{const t=o.plaque.entity.last_check_in_time;return t?new Date(t.seconds*1e3).toLocaleString("en-US",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}):"N/A"}),w=t=>new Date(t.seconds*1e3).toLocaleString("en-US",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),T=()=>{ie.confirm(`Are you sure you want to clear tokens for plaque '${o.plaque.entity.name}'?`,"Clear tokens",{type:"warning"}).then(()=>{M(o.plaque.id,{token_meta_id_list:[]}).then(()=>{k.plaque_map[o.plaque.id].entity.token_meta_id_list=[],I({type:"success",message:"Tokens cleared"})}).catch(t=>{I({message:`Error clearing tokens from plaque - ${t}`,type:"error",showClose:!0,duration:12e3})})})},W=()=>{ie.confirm(`Are you sure you want to forget the plaque named '${o.plaque.entity.name}'?`,"Forget plaque",{type:"warning"}).then(()=>{M(o.plaque.id,{user_id:"",token_meta_id_list:[]}).then(()=>{k.plaque_map[o.plaque.id].entity.user_id="",k.plaque_map[o.plaque.id].entity.token_meta_id_list=[],I({type:"success",message:"Plaque forgotten"})}).catch(t=>{I({message:`Error forgetting plaque - ${t}`,type:"error",showClose:!0,duration:12e3})})})};K(r,t=>{t=="settings"&&o.plaque.entity.user_id&&!V.value&&Fe(o.plaque.entity.user_id).then(s=>{V.value=s.entity.email}).catch(s=>{I({message:`Error loading user account - ${s}`,type:"error",showClose:!0,duration:12e3})})});const G=L({get:()=>Boolean(o.plaque.entity.vpn_active),set:t=>{M(o.plaque.id,{vpn_active:t}).then(()=>{k.plaque_map[o.plaque.id].entity.vpn_active=t,I({type:"success",message:"VPN setting updated"})}).catch(s=>{F(`Error updating VPN setting- ${s}`)})}}),te=L(()=>{var y,R,E;const t=(E=(R=(y=o==null?void 0:o.plaque)==null?void 0:y.entity)==null?void 0:R.machine_data)==null?void 0:E.updated_at;return t?new Date(t.seconds*1e3+t.nanoseconds/1e6).toLocaleString():"N/A"}),le=()=>{const t={type:"upload_logs",time_sent:O.now()};C.value=!0,M(o.plaque.id,{command:t}).then(()=>{k.plaque_map[o.plaque.id].entity.command=t,I({type:"success",message:"Command sent to plaque"})}).catch(s=>{F(`Error sending command to plaque - ${s}`)}).finally(()=>{C.value=!1})},ae=()=>{ie.confirm(`Are you sure you want to restart the plaque '${o.plaque.entity.name}'?`,"Restart plaque",{type:"warning"}).then(()=>{const t={type:"restart_machine",time_sent:O.now()};f.value=!0,M(o.plaque.id,{command:t}).then(()=>{k.plaque_map[o.plaque.id].entity.command=t,I({type:"success",message:"Command sent to plaque"})}).catch(s=>{F(`Error sending command to plaque - ${s}`)}).finally(()=>{f.value=!1})})},ne=async t=>{const s=Je(),y=`viewer-logs/${t}`,R=Ge(s,y);try{const j=await Ke(R);var E=document.createElement("a");E.href=j,E.download=t,document.body.appendChild(E),E.click(),document.body.removeChild(E);return}catch(j){console.log(`downloadLogs - failed to download logs for ${t}`,j),F(`Error downloading logs - ${j}`)}return""};return(t,s)=>{const y=u("el-button"),R=u("el-tag"),E=u("el-tooltip"),j=u("el-col"),Se=u("el-row"),Ve=u("ArrowRight"),oe=u("el-icon"),se=u("el-collapse-transition"),pe=u("Close"),X=u("el-table-column"),Ae=u("el-table"),Pe=u("el-dialog"),Le=u("el-switch"),ze=u("el-card");return p(),D(ze,null,{default:l(()=>[a("div",ot,[A.value?ke((p(),b("input",{key:1,"onUpdate:modelValue":s[0]||(s[0]=g=>o.plaque.entity.name=g),class:"edit-name-input"},null,512)),[[Ne,o.plaque.entity.name]]):(p(),b("h1",st,S(o.plaque.entity.name),1)),A.value?J("",!0):(p(),D(y,{key:2,icon:m(Ie),onClick:s[1]||(s[1]=g=>A.value=!0),class:"editIcon",circle:""},null,8,["icon"])),A.value?(p(),D(y,{key:3,icon:m(Ue),loading:x.value,onClick:P,class:"editIcon",circle:"",type:x.value?"":"success",text:""},null,8,["icon","loading","type"])):J("",!0),it,e(E,{class:"box-item",effect:"dark",content:`Last activity ${m(v)}`,placement:"top"},{default:l(()=>[m(n)?(p(),D(R,{key:0,class:"ml-2",type:"success"},{default:l(()=>[c("online")]),_:1})):(p(),D(R,{key:1,class:"ml-2",type:"danger"},{default:l(()=>[c("offline")]),_:1}))]),_:1},8,["content"])]),e(se,null,{default:l(()=>[ke(a("section",dt,[rt,e(Se,{style:{padding:"1em"}},{default:l(()=>[e(j,{span:12},{default:l(()=>{var g;return[ut,a("span",null,S(((g=m(h))==null?void 0:g.entity.name)||"N/A"),1)]}),_:1}),e(j,{span:12},{default:l(()=>{var g;return[_t,c(" "+S(((g=m(h))==null?void 0:g.entity.artist)||"N/A"),1)]}),_:1})]),_:1}),a("div",ct,S(`Total artworks: ${d.plaque.entity.token_meta_id_list.length}`),1),a("div",pt,[e(y,{type:"info",onClick:s[2]||(s[2]=g=>$.value=!0)},{default:l(()=>[c("Add Artwork")]),_:1}),e(y,{onClick:s[3]||(s[3]=g=>r.value="detail")},{default:l(()=>[c(" Details"),e(oe,{class:"el-icon--right"},{default:l(()=>[e(Ve)]),_:1})]),_:1})])],512),[[Ee,r.value=="simple"]])]),_:1}),e(se,null,{default:l(()=>[r.value=="detail"?(p(),b("section",mt,[a("p",yt,S(`Total artworks: ${d.plaque.entity.token_meta_id_list.length}`),1),a("div",ft,[e(y,{onClick:s[4]||(s[4]=g=>r.value="settings")},{default:l(()=>[c("Settings")]),_:1}),e(y,{onClick:T},{default:l(()=>[c("Clear Artwork")]),_:1})]),vt,m(i).length==0?(p(),b(H,{key:0},[gt,qt],64)):J("",!0),(p(!0),b(H,null,de(m(i),g=>(p(),D(He,{token_meta:g},null,8,["token_meta"]))),256)),a("div",ht,[e(y,{type:"info",onClick:s[5]||(s[5]=g=>$.value=!0)},{default:l(()=>[c("Add Artwork")]),_:1}),kt,e(y,{onClick:s[6]||(s[6]=g=>r.value="simple")},{default:l(()=>[c("Close"),e(oe,{class:"el-icon--right"},{default:l(()=>[e(pe)]),_:1})]),_:1})])])):J("",!0)]),_:1}),e(se,null,{default:l(()=>{var g,me,ye,fe,ve,ge,qe,he;return[r.value=="settings"?(p(),b("section",wt,[e(nt,{plaque:o.plaque},null,8,["plaque"]),a("div",xt,[d.plaque.entity.user_id?(p(),b("div",Ct,[bt,V.value?(p(),b("div",$t,S(V.value),1)):(p(),b("div",St,"Loading...")),a("div",Vt,S(d.plaque.entity.user_id),1)])):(p(),b("div",At,"No associated user")),d.plaque.entity.user_id?(p(),D(y,{key:2,type:"danger",plain:"",onClick:W},{default:l(()=>[c("Forget Display")]),_:1})):J("",!0)]),a("div",Pt,[Lt,a("div",null,"Machine name: "+S((me=(g=d.plaque.entity.machine_data)==null?void 0:g.machine_name)!=null?me:"N/A"),1),a("div",null,"Version: "+S((fe=(ye=d.plaque.entity.machine_data)==null?void 0:ye.version)!=null?fe:"N/A"),1),a("div",null,"Local IP: "+S((ge=(ve=d.plaque.entity.machine_data)==null?void 0:ve.local_ip)!=null?ge:"N/A"),1),a("div",null,"Public IP: "+S((he=(qe=d.plaque.entity.machine_data)==null?void 0:qe.public_ip)!=null?he:"N/A"),1),a("div",null,"Updated At: "+S(m(te)),1)]),m(U).is_user_admin?(p(),b("div",zt,[Nt,e(y,{plain:"",onClick:le,loading:C.value},{default:l(()=>[c("Upload Logs To Cloud")]),_:1},8,["loading"]),e(y,{plain:"",onClick:s[7]||(s[7]=N=>_.value=!0)},{default:l(()=>[c("View Logs")]),_:1}),e(y,{type:"danger",plain:"",onClick:ae,loading:f.value},{default:l(()=>[c("Restart Machine")]),_:1},8,["loading"]),e(Pe,{modelValue:_.value,"onUpdate:modelValue":s[8]||(s[8]=N=>_.value=N),title:"Uploaded Logs",width:"75%"},{default:l(()=>[e(Ae,{data:d.plaque.entity.uploaded_log_files},{default:l(()=>[e(X,{prop:"file_name",label:"File Name",width:"400"}),e(X,{prop:"upload_time",label:"Time Uploaded"},{default:l(({row:N})=>[c(S(w(N.upload_time)),1)]),_:1}),e(X,{prop:"bytes",label:"Size"},{default:l(({row:N})=>[c(S(m(Be)(N.bytes)),1)]),_:1}),e(X,{fixed:"right",label:"",width:"80"},{default:l(({row:N})=>[e(y,{icon:"Download",text:"",circle:"",onClick:Ht=>ne(N.file_name)},null,8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue"]),a("div",It,[Ut,e(Le,{modelValue:m(G),"onUpdate:modelValue":s[9]||(s[9]=N=>re(G)?G.value=N:null),"active-text":"Enabled","inactive-text":"Off"},null,8,["modelValue"])])])):J("",!0),a("div",Et,[e(y,{onClick:s[10]||(s[10]=N=>r.value="detail")},{default:l(()=>[c("Close"),e(oe,{class:"el-icon--right"},{default:l(()=>[e(pe)]),_:1})]),_:1})])])):J("",!0)]}),_:1}),e(tt,{plaque_id:o.plaque.id,show_add_token_dialog:$.value,"onUpdate:show_add_token_dialog":s[11]||(s[11]=g=>$.value=g)},null,8,["plaque_id","show_add_token_dialog"])]),_:1})}}});var Dt=Y(Tt,[["__scopeId","data-v-05a01d1c"]]);const Q=d=>(ue("data-v-517aa68d"),d=d(),_e(),d),Mt=Q(()=>a("div",{style:{"font-size":"var(--el-font-size-extra-small)"}},"Filter by gallery",-1)),Ot=Q(()=>a("div",{style:{"font-size":"var(--el-font-size-extra-small)"}},"Online only",-1)),Ft=Q(()=>a("div",{class:"caption"},"Sort order",-1)),Bt=Q(()=>a("div",{style:{"padding-bottom":"90px"}},null,-1)),Rt={class:"add-button-container"},jt={style:{display:"flex","align-items":"center","justify-content":"center",height:"100%"}},Jt=Q(()=>a("div",{style:{"font-size":"17px"}},"Add plaque",-1)),Gt={style:{display:"flex","justify-content":"space-between","flex-wrap":"wrap"}},Kt=Z({__name:"PlaqueList",setup(d){const o=q(!1),{screen_type:k}=be(),r=q(!1),$=xe(),A=ce(),V=Qe(),x=q(""),C=q(localStorage.getItem("plaque_list_filter_by_gallery")||"");K(C,i=>{localStorage.setItem("plaque_list_filter_by_gallery",i)});const f=q(localStorage.getItem("online_filter")==="true"||!1);K(f,i=>{if(i){localStorage.setItem("online_filter","true");return}localStorage.setItem("online_filter","false")});const _=q(localStorage.getItem("plaque_list_sort_order")||"name");K(_,i=>{localStorage.setItem("plaque_list_sort_order",i)});const P=ee(),U=async()=>{o.value=!0,await Me({name:"Test Plaque",user_id:A.get_account.id,token_meta_id_list:[],created_at:O.now(),updated_at:O.now(),orientation:Re.Landscape,command:{type:"",time_sent:O.fromMillis(0)},last_check_in_time:O.fromMillis(0),vpn_active:!1,machine_data:{machine_name:"",version:"",local_ip:"",public_ip:"",updated_at:O.fromMillis(0)}}).catch(i=>I({message:`Error creating test plaque- ${i}`,type:"error",showClose:!0,duration:12e3})),o.value=!1,r.value=!1},B=L(()=>JSON.parse(JSON.stringify(P.all_plaque_list)).sort((n,v)=>{const w=n.entity.name.toLowerCase(),T=v.entity.name.toLowerCase();return w<T?-1:w>T?1:0})),h=L(()=>{let i=[...B.value];return i=i.filter(n=>n.entity.name||n.entity.user_id||n.entity.token_meta_id_list.length>0),C.value&&(i=i.filter(n=>{var v;return(v=V.gallery_list.find(w=>w.id==C.value))==null?void 0:v.entity.plaque_id_list.includes(n.id)})),f.value&&(i=i.filter(n=>Ce(n))),_.value=="name"?i=i.sort((n,v)=>n.entity.name.localeCompare(v.entity.name)):_.value=="last_check_in_time"&&(i=i.sort((n,v)=>n.entity.last_check_in_time==null&&v.entity.last_check_in_time==null?0:n.entity.last_check_in_time==null?1:v.entity.last_check_in_time==null?-1:v.entity.last_check_in_time.seconds-n.entity.last_check_in_time.seconds)),x.value?i.filter(n=>n.entity.name.toLowerCase().includes(x.value.toLowerCase())):i});return(i,n)=>{const v=u("el-input"),w=u("el-button"),T=u("el-option"),W=u("el-select"),G=u("el-switch"),te=u("el-popover"),le=u("Plus"),ae=u("el-icon"),ne=u("el-dialog");return p(),b(H,null,[a("div",{class:"subheader",style:Te([{display:"flex","align-items":"center"},m(k)=="xs"?"padding: 0px 8px 10px;":""])},[e(v,{modelValue:x.value,"onUpdate:modelValue":n[0]||(n[0]=t=>x.value=t),"prefix-icon":m(De),placeholder:"Search plaques",style:{"max-width":"350px"},clearable:""},null,8,["modelValue","prefix-icon"]),e(te,{placement:"bottom",title:"Plaque Filters",width:300,trigger:"click"},{reference:l(()=>[e(w,{icon:"Filter",style:{"margin-left":"10px"},type:"info",size:"small"},{default:l(()=>[c("Filters")]),_:1})]),default:l(()=>[Mt,e(W,{modelValue:C.value,"onUpdate:modelValue":n[1]||(n[1]=t=>C.value=t),placeholder:"Filter by gallery",style:{width:"260px","margin-bottom":"12px"}},{default:l(()=>[e(T,{label:"All plaques",value:""}),(p(!0),b(H,null,de(m(V).gallery_list,t=>(p(),D(T,{key:t.id,label:`${t.entity.name}`,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),Ot,e(G,{modelValue:f.value,"onUpdate:modelValue":n[2]||(n[2]=t=>f.value=t),style:{"margin-bottom":"1em"}},null,8,["modelValue"]),Ft,e(W,{modelValue:_.value,"onUpdate:modelValue":n[3]||(n[3]=t=>_.value=t),placeholder:"Sort by",class:"filter-select"},{default:l(()=>[e(T,{label:"Sort by name",value:"name"}),e(T,{label:"Sort by last activity",value:"last_check_in_time"})]),_:1},8,["modelValue"])]),_:1}),e(w,{icon:"Camera",type:"info",onClick:n[4]||(n[4]=t=>m($).push("qr-scan")),style:{"margin-left":"10px"},size:"small"},{default:l(()=>[c("Scan")]),_:1})],4),Bt,(p(!0),b(H,null,de(m(h),t=>(p(),D(Dt,{plaque:t,key:t.id},null,8,["plaque"]))),128)),a("div",Rt,[a("div",jt,[a("div",{class:"add-button",onClick:n[5]||(n[5]=t=>r.value=!0)},[e(ae,{style:{"font-size":"26px","margin-bottom":"6px"}},{default:l(()=>[e(le)]),_:1}),Jt])])]),e(ne,{modelValue:r.value,"onUpdate:modelValue":n[7]||(n[7]=t=>r.value=t),title:"Add plaque",width:m(k)=="xs"?"90%":"50%",style:{"max-width":"500px"}},{default:l(()=>[a("div",Gt,[e(w,{onClick:n[6]||(n[6]=t=>{m($).push("qr-scan"),r.value=!1}),icon:"camera",color:"#000000",style:{margin:"10px 12px 10px 0px"}},{default:l(()=>[c("Scan Plaque QR Code")]),_:1}),e(w,{icon:"plus",onClick:U,loading:o.value,style:{margin:"10px 0px 10px 0px"},color:"#000000"},{default:l(()=>[c("Add test plaque ")]),_:1},8,["loading"])])]),_:1},8,["modelValue","width"])],64)}}});var _l=Y(Kt,[["__scopeId","data-v-517aa68d"]]);export{_l as default};
