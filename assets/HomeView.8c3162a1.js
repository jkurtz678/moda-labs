import{u as A,_ as B,a as D,b as M,c as L}from"./token-meta.5637e455.js";import{d as C,u as V,a as P,c as S,r,o as c,b as h,e as n,f as y,g as E,F as q,h as a,w as _,i as b,t as U,j as $,_ as F,k as H,l as I,E as j,m as O,R as z}from"./index.eb985683.js";import{u as N}from"./account.8469be86.js";import{u as G}from"./plaque.d75232aa.js";import{s as k}from"./util.db02a31e.js";import"./token-meta.2eb6efb7.js";import"./plaque.65ccb9ae.js";const J={style:{display:"flex","align-items":"center"}},K=b("div",{style:{"flex-grow":"1"}},null,-1),Q=$(" Cancel "),W=b("div",{style:{"flex-grow":"1"}},null,-1),X={style:{"margin-right":"10px"}},Y=$("Logout"),Z=C({setup(R){const t=V(),p=P(),i=N(),{width:v,screen_type:g}=A(),u=(e,o)=>{e.paneName&&typeof e.paneName=="string"&&t.push({name:e.paneName})},d=S(()=>{const e=i.account;if(!e)return"";if(e.entity.ens_name)return e.entity.ens_name;const o=e.entity.wallet_address;return`${o.substring(0,6)}...${o.substring(o.length-4)}`}),l=()=>{i.logout(),t.push({name:"landing",query:{redir:window.location.href}})},m=e=>new URL({"../assets/base.css":B,"../assets/logo.png":D,"../assets/logo.svg":M}[`../assets/${e}`],self.location).href;return(e,o)=>{const f=r("el-image"),s=r("el-button"),w=r("el-tab-pane"),T=r("el-tabs");return c(),h("div",J,[n(g)!="xs"?(c(),y(f,{key:0,src:m("logo.png"),style:{width:"43px",height:"43px","margin-right":"2em"}},null,8,["src"])):E("",!0),n(t).currentRoute.value.name=="qr-scan"?(c(),h(q,{key:1},[K,a(s,{icon:"close",onClick:o[0]||(o[0]=x=>n(t).push("plaque-list"))},{default:_(()=>[Q]),_:1})],64)):(c(),h(q,{key:2},[a(T,{modelValue:n(p).name,"onUpdate:modelValue":o[1]||(o[1]=x=>n(p).name=x),onTabClick:u},{default:_(()=>[a(w,{label:"Plaques",name:"plaque-list"}),a(w,{label:"Tokens",name:"token-list"})]),_:1},8,["modelValue"]),W,b("div",X,U(n(d)),1),a(s,{onClick:l,style:{"margin-left":"1em"}},{default:_(()=>[Y]),_:1})],64))])}}});const ee=C({setup(R){const t=N(),p=G(),i=L(),v=V(),g=H(!1);return I(async()=>{const u=j.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),{wallet_address:d,signature:l,ens_name:m}=t.getCachedAccountData();if(!d||!l){v.push({name:"landing"}),u.close();return}if(await t.loadAccount(d,l,m),t.account==null){O("Error - failed to load account");return}const e=p.loadPlaques(t.account.entity.wallet_address).catch(s=>k(`Error loading plaques - ${s}`)),o=i.loadArchiveTokenMetas(t.get_account.entity.wallet_address).catch(s=>k(`Error loading archive token metas - ${s}`)),f=i.loadOpenseaTokenMetas(t.get_account.entity.wallet_address).catch(s=>k(`Error loading opensea tokens - ${s}`));await Promise.all([e,o,f]),g.value=!0,u.close()}),(u,d)=>{const l=r("el-header"),m=r("el-main"),e=r("el-container");return c(),y(e,{style:{height:"100%"}},{default:_(()=>[a(l,{class:"header"},{default:_(()=>[a(Z)]),_:1}),a(m,{style:{"background-color":"#DAD9D7"}},{default:_(()=>[g.value?(c(),y(n(z),{key:0})):E("",!0)]),_:1})]),_:1})}}});var ce=F(ee,[["__scopeId","data-v-5195bd86"]]);export{ce as default};
