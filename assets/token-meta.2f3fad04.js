var m=Object.defineProperty,l=Object.defineProperties;var p=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;var _=(a,t,e)=>t in a?m(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,r=(a,t)=>{for(var e in t||(t={}))k.call(t,e)&&_(a,e,t[e]);if(i)for(var e of i(t))d.call(t,e)&&_(a,e,t[e]);return a},c=(a,t)=>l(a,p(t));import{i as u,j as h,B as f,T as v}from"./index.b128bae6.js";import{g}from"./token-meta.5bfcb562.js";const y="742ea11e1d864fe2b23ac7cfe66a43f7",A=async a=>{const t=[];let e="";for(;;){const s=await(await fetch(`https://api.opensea.io/api/v1/events?account_address=${a}&event_type=created&limit=50${e?"&cursor="+e:""}`,{headers:{"X-API-KEY":y}})).json();if(t.push(...s.asset_events.map(n=>c(r({},n.asset),{creator:n.from_account}))),e=s.next,!e)break}return t},w=u({id:"token-meta",state:()=>({archive_token_meta_list:[],opensea_token_meta_list:[]}),getters:{archive_token_meta_map:a=>{const t={};return a.archive_token_meta_list.forEach(e=>{t[e.id]=e}),t},opensea_token_meta_map:a=>{const t={};return a.opensea_token_meta_list.forEach(e=>{var s,n;console.log("O",e);const o=h(e);t[o]={id:o,entity:{name:e.name,artist:((n=(s=e.creator)==null?void 0:s.user)==null?void 0:n.username)||"N/A",description:e.description,public_link:e.permalink,blockchain:f.Ethereum,asset_contract_address:e.asset_contract.address,token_id:e.token_id,platform:v.Opensea,thumbnail_url:e.image_thumbnail_url,media_url:e.animation_url?e.animation_url:e.image_url}}}),t},all_token_metas(){return r(r({},this.archive_token_meta_map),this.opensea_token_meta_map)}},actions:{async loadArchiveTokenMetas(a){await g(a,t=>{this.archive_token_meta_list=t})},async loadOpenseaTokenMetas(a){await A(a).then(t=>{this.opensea_token_meta_list=t})}}});export{w as u};
