import{p as d}from"./index.7a94abe4.js";import{B as u}from"./types.6a5ef88e.js";import{b as p,T as _,f,j as m,c as g,Q as w,O as o,U as h,A as n}from"./firebaseConfig.d7a6b5a9.js";const r=p(f),y=_(r,"gallery"),G=async(a,t)=>{await m(g(y),s=>{const c=s.docs.map(e=>({id:e.id,entity:e.data()}));t(c.filter(e=>{var l,i;return(i=(l=e==null?void 0:e.entity)==null?void 0:l.user_id_list)==null?void 0:i.includes(a)}))})},U=async a=>{const t=await w(y,{...u.createBaseEntity(),...a}),s=await o(t);return{id:s.id,entity:s.data()}},j=async(a,t)=>{await h(n(r,"gallery",a),t);const s=await o(n(r,"gallery",a));return{id:s.id,entity:s.data()}},E=d({id:"gallery",state:()=>({gallery_list:[]}),getters:{get_user_id_list_for_galleries:a=>Array().concat.apply(Array(),a.gallery_list.map(t=>t.entity.user_id_list))},actions:{async loadGalleryList(a){return new Promise(t=>G(a,s=>{this.gallery_list=s,t(null)}))}}});export{j as a,U as s,E as u};
