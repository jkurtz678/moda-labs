import{d as U,_ as q,a as E,b as $,c as B}from"./WelcomeDialog.6414f26f.js";import{_ as F,d as M,r as m,q as N,h as R,i as s,w as a,F as j,b as A,e as D,f as n,o as K,bU as W,l as d,j as p,u as b,z as h,p as z,m as C}from"./index.c7516d85.js";import{l as T,a as G}from"./firebaseConfig.4d01e9b5.js";import{b as x,s as V}from"./util.b0e11255.js";import"./breakpoints.a5fd6dfc.js";const H=u=>(z("data-v-6b29172e"),u=u(),C(),u),J=H(()=>d("div",{class:"card-header"},[d("span",null,"Login to MoDA Labs")],-1)),O={style:{display:"flex","justify-content":"space-between"}},Q={style:{"margin-top":"20px"}},X=M({__name:"LoginView",setup(u){const _=m(!1),g=m(),c=A(),f=D(),k=m({email:[{required:!0,message:"Please input your email",trigger:"blur"},{type:"email",message:"Please input a valid email",trigger:"blur"}],password:[{required:!0,message:"Please input your password",trigger:"blur"},{min:6,message:"Password must be at least 6 characters",trigger:"blur"}]}),t=m({email:"",password:""});N(()=>{if(x()){const l=localStorage.getItem("saved_email");l&&(t.value.email=l)}});const w=async l=>{if(!l){V("Error finding form element");return}!await l.validate(o=>o)||(_.value=!0,T(G,t.value.email,t.value.password).then(o=>{var i;if(x()&&((i=o==null?void 0:o.user)==null?void 0:i.email)&&localStorage.setItem("saved_email",o.user.email),f.query.redir&&typeof f.query.redir=="string"){window.location.assign(f.query.redir);return}c.push({name:"home"})}).catch(o=>{o.code==="auth/user-not-found"?h({type:"error",message:"User not found"}):o.code==="auth/wrong-password"?h({type:"error",message:"Wrong password"}):V(o.message)}).finally(()=>{_.value=!1}))},I=l=>new URL({"../assets/base.css":q,"../assets/logo.png":E,"../assets/logo.svg":$,"../assets/search-icon.svg":B}[`../assets/${l}`],self.location).href;return(l,e)=>{const o=n("el-image"),i=n("el-input"),y=n("el-form-item"),v=n("el-button"),L=n("el-form"),S=n("el-card"),P=n("el-container");return K(),R(j,null,[s(P,{style:{display:"flex","align-items":"center","flex-direction":"column"}},{default:a(()=>[s(S,{class:"login-card",style:{"margin-top":"80px"}},{header:a(()=>[s(o,{src:I("logo.png"),style:{height:"170px",width:"170px",margin:"auto",display:"block","margin-bottom":"15px"}},null,8,["src"]),J]),default:a(()=>[s(L,{ref_key:"form_ref",ref:g,model:t.value,rules:k.value,"label-position":"left","label-width":"110px",onKeyup:e[4]||(e[4]=W(r=>w(g.value),["enter","native"]))},{default:a(()=>[s(y,{label:"Email",prop:"email"},{default:a(()=>[s(i,{modelValue:t.value.email,"onUpdate:modelValue":e[0]||(e[0]=r=>t.value.email=r)},null,8,["modelValue"])]),_:1}),s(y,{label:"Password",prop:"password"},{default:a(()=>[s(i,{modelValue:t.value.password,"onUpdate:modelValue":e[1]||(e[1]=r=>t.value.password=r),type:"password"},null,8,["modelValue"])]),_:1}),d("div",O,[s(v,{onClick:e[2]||(e[2]=r=>w(g.value)),color:"#000000",loading:_.value},{default:a(()=>[p("Login")]),_:1},8,["loading"]),s(v,{type:"primary",link:"",onClick:e[3]||(e[3]=r=>b(c).push("forgot-password"))},{default:a(()=>[p("Forgot Password?")]),_:1})])]),_:1},8,["model","rules"])]),_:1}),d("div",Q,[p("Don't have an account? "),s(v,{type:"primary",link:"",onClick:e[5]||(e[5]=r=>b(c).push("sign-up"))},{default:a(()=>[p(" Sign Up ")]),_:1})])]),_:1}),s(U)],64)}}});var ae=F(X,[["__scopeId","data-v-6b29172e"]]);export{ae as default};
