import{b as F}from"./token-meta.8015aff1.js";import{s as C}from"./util.29673478.js";import{b as N}from"./thumbnail-image.bc3339f6.js";import{p as M}from"./types.4ea69ea7.js";import{r as d,p as B,d as A,J as D,m as I,z as P,c as l,h as u,i as m,n as E,u as x,g as b,t as f,e as T,b as G,o,_ as z,E as O,F as L,H as S,a as R}from"./index.258433e2.js";import{e as j,f as K}from"./gallery-token.c4aa5fe8.js";import"./firebaseConfig.4d01e9b5.js";function V(h="200% 0px"){const r=d(!1);let a=null;const p=()=>{a=new IntersectionObserver(n=>{n.forEach(s=>{s.isIntersecting&&(r.value=!0,a==null||a.disconnect())})},{rootMargin:h,threshold:0})},c=n=>{!n||(a&&a.disconnect(),p(),a==null||a.observe(n))};return B(()=>{a==null||a.disconnect(),a=null}),{isIntersecting:r,observe:c}}const H=["src"],U={style:{"font-weight":"bold","overflow-wrap":"break-word"}},q={style:{"min-height":"24px"}},J=A({__name:"CatalogArtTile",props:{token_meta:{}},setup(h){T();const r=G(),a=h,p=N(D(a,"token_meta")),{isIntersecting:c,observe:n}=V("200% 0px"),s=d(null);I(()=>{s.value?n(s.value):P(s,y=>{y&&n(y)},{immediate:!0})});const _=l(()=>!a.token_meta.entity.aspect_ratio||a.token_meta.entity.aspect_ratio<=1?340:340/a.token_meta.entity.aspect_ratio),v=l(()=>!a.token_meta.entity.aspect_ratio||a.token_meta.entity.aspect_ratio>=1?340:340*a.token_meta.entity.aspect_ratio);return(y,k)=>(o(),u("div",{class:"tile-container",style:{margin:"12px",width:"340px"},onClick:k[0]||(k[0]=e=>x(r).push({name:"actions",params:{token_meta_id:a.token_meta.id}}))},[m("div",{style:{display:"flex","flex-direction":"column",height:"100%"},ref_key:"tile",ref:s},[m("div",{style:E([{display:"flex","border-radius":"18px","flex-grow":"1"},`height: ${_.value}px !important; width: ${v.value}px !important `])},[x(c)?(o(),u("img",{key:0,src:x(p),style:E(`max-height: ${_.value}px !important;`)},null,12,H)):b("",!0)],4),m("h2",U,f(a.token_meta.entity.name),1),m("div",q,f(x(M)(a.token_meta)),1)],512)]))}});var Q=z(J,[["__scopeId","data-v-79ff067e"]]);const W={key:0},Y={style:{"font-weight":"bold","font-size":"2.8em","padding-top":"1.5em"}},Z={key:0,style:{"white-space":"pre-wrap"}},X={key:1},ee={style:{"font-weight":"bold","font-size":"2.8em",padding:"48px 0px 24px 0px"}},te={style:{display:"flex",margin:"-12px","flex-wrap":"wrap"}},ue=A({__name:"CatalogGalleryDetail",setup(h){const r=T();r.params.gallery_id;const a=d([]),p=d([]),c=d(),n=d(),s={CtmSolhMWKKqrSrch1L3:`The Flux Festival Saturday Exhibition takes place on Nov. 23rd at the beautiful Audry Irmas Pavillion featuring Live Performances, New Media Art Gallery, VR films, and 3 floors of installations. Projekt Blank and Flux Festival are co-curating the physical exhibition to highlight artists and filmmakers pioneering creative uses of Ai and innovations in media art and film.

 Flux Festival culminates with live audio-visual performances by New York based @kevinpeterhe and @jakeoleson and the esteemed @nosajthing.`,vN1VWlc07Qo48dRTMKZw:`Presenting \u201CSequencer :: 002 \u2014 MICRO MYTHOLOGIES\u201D a design and media art group exhibition featuring a curation of new media artists exploring generative systems, mythical biology, micro organisms, and unseen or endangered parts of our world. This second edition will feature artists working in: Film, Animation, Light, Generative Art, Projection, Performance, and Time. Hosted at 821 Mateo St, SEQUENCER :: 002 will feature a gallery exhibition and an afterparty featuring Live performances by Spencer Sterling, Ninocence and DJ FUCK. 

Presented by the combined forces at Projekt______, and Optic Nerve.`},_=l(()=>{if(!r.params.gallery_id||typeof r.params.gallery_id!="string"){console.log("failed to get gallery id from params");return}return s[r.params.gallery_id]});l(()=>a.value.map(e=>({name:e.entity.name,artist:e.entity.artist,price:e.entity.price,price_unit:e.entity.price_unit})).sort((e,t)=>!(e!=null&&e.artist)||!(t!=null&&t.artist)?0:e.artist.localeCompare(t.artist)));const v=l(()=>Array.from(new Set(a.value.map(e=>e.entity.artist||""))).sort((e,t)=>e.localeCompare(t))),y=l(()=>a.value.reduce((e,t)=>(t.entity.artist&&(e[t.entity.artist]||(e[t.entity.artist]=[]),e[t.entity.artist].push(t)),e),{})),k=l(()=>a.value.reduce((e,t)=>(e[t.id]=t,e),{}));return l(()=>p.value.map(e=>{var i,g;const t=k.value[e.entity.token_meta_id];return{bidding_name:e.entity.bidding_name,email:e.entity.email,phone_number:e.entity.phone_number,amount:e.entity.amount,amount_unit:e.entity.amount_unit,artist_name:(i=t==null?void 0:t.entity)==null?void 0:i.artist,artwork_name:(g=t==null?void 0:t.entity)==null?void 0:g.name}}).sort((e,t)=>!(e!=null&&e.artwork_name)||!(t!=null&&t.artwork_name)?0:e.artwork_name.localeCompare(t.artwork_name))),I(async()=>{if(!r.params.gallery_id||typeof r.params.gallery_id!="string"){console.log("failed to get gallery id from params");return}n.value=O.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),j(r.params.gallery_id).then(e=>{const t=e.map(i=>i.entity.token_meta_id);return F(t).then(i=>{console.log("token_metas",a),a.value=i}).catch(i=>{C(`Error fetching token metas: ${i}`)}).finally(()=>{n.value.close()})}).catch(e=>{C(`Error fetching token metas: ${e}`)}),K(r.params.gallery_id).then(e=>{console.log("gallery",e),c.value=e}).catch(e=>{C(`Error fetching gallery: ${e}`)})}),(e,t)=>{var i,g;return(i=n.value)!=null&&i.visible?b("",!0):(o(),u("div",W,[m("h1",Y,f((g=c.value)==null?void 0:g.entity.name),1),_.value?(o(),u("div",Z,f(_.value),1)):b("",!0),v.value.length==0?(o(),u("div",X,t[0]||(t[0]=[m("h1",{style:{"font-weight":"bold","font-size":"2.8em",padding:"48px 0px 24px 0px"}},"No Artworks",-1)]))):(o(!0),u(L,{key:2},S(v.value,w=>(o(),u("div",{key:w,style:{margin:"20px 0px"}},[m("h1",ee,f(w),1),m("div",te,[(o(!0),u(L,null,S(y.value[w],$=>(o(),R(Q,{token_meta:$},null,8,["token_meta"]))),256))])]))),128))]))}}});export{ue as default};
