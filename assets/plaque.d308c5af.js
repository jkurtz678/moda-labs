import{p as s}from"./index.36adc59a.js";import{g as _,a as o}from"./plaque.c9ac5c7e.js";import"./account.67ba5898.js";import"./gallery.298aee35.js";const q=s({id:"plaque",state:()=>({plaque_list:[],gallery_plaque_list:[]}),getters:{all_plaque_list(e){return Object.values(this.plaque_map)},plaque_map(){const e={};return this.plaque_list.forEach(t=>{e[t.id]=t}),this.gallery_plaque_list.forEach(t=>{e[t.id]=t}),e},meta_in_playlist(){return(e,t)=>this.plaque_map[e].entity.token_meta_id_list.some(i=>i==t)},token_meta_id_list(){let e=[];return this.all_plaque_list.forEach(t=>{e.push(...t.entity.token_meta_id_list)}),e}},actions:{async loadPlaques(e){await _(e,t=>{console.log("plaque_listener",t);for(let l=0;l<t.length;l++)t[l].entity.token_meta_id_list==null&&(t[l].entity.token_meta_id_list=[]);this.plaque_list.splice(0,this.plaque_list.length,...t)})},async loadGalleryPlaques(e){const t=[];e.forEach(i=>{t.push(...i.entity.plaque_id_list)}),console.log("plaque_id_list",t);const l=[];for(let i=0;i<t.length;i+=10){const a=await o(t.slice(i,i+10));l.push(...a)}this.gallery_plaque_list=l}}});export{q as u};
