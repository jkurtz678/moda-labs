import{d as x,r as w,c as M,h as s,l as r,t as y,g as p,F as k,o as a,L as A,u as h,a as N,w as $,i as v,e as R,b as P,f as V,j as H,q as S,B as z,E as F,bE as Q,bh as U}from"./index.99dee27c.js";import{s as g}from"./util.a5d58535.js";import{P as D}from"./types.67d14e22.js";import{a as j}from"./thumbnail-image.3c21d9e2.js";import{h as q}from"./token-meta.094c1d66.js";import"./firebaseConfig.4d01e9b5.js";const I={key:0},W={key:1},b=150,G=x({__name:"TruncatedDescription",props:{description:{}},setup(f){const t=f,n=w(!1),i=M(()=>t.description?n.value||t.description.length<b?t.description:`${t.description.substring(0,b)}...`:"No artwork description");return(l,o)=>(a(),s(k,null,[r("div",null,y(i.value),1),r("div",null,[l.description&&l.description.length>b?(a(),s("a",{key:0,onClick:o[0]||(o[0]=e=>n.value=!n.value),class:"link"},[n.value?(a(),s("span",I,"Less")):(a(),s("span",W,"More"))])):p("",!0)])],64))}}),J={style:{"font-weight":"bold"}},K={style:{"font-weight":"bold"}},O=["src"],X={style:{display:"flex","align-items":"center"}},Y={key:0,style:{"font-weight":"bold"}},Z=x({__name:"ArtPreviewHeader",props:{token_meta:{}},setup(f){const t=R(),n=P(),i=f,l=j(A(i,"token_meta")),o=M(()=>{var e,c,_,u,d,m;switch((c=(e=i.token_meta)==null?void 0:e.entity)==null?void 0:c.price_unit){case D.USD:return`$${(u=(_=i.token_meta)==null?void 0:_.entity)==null?void 0:u.price}`;case D.ETH:return`${(m=(d=i.token_meta)==null?void 0:d.entity)==null?void 0:m.price} ETH`;default:return""}});return(e,c)=>{var u,d,m,E,T,B,C,L;const _=V("el-button");return a(),s(k,null,[r("h1",J,y((d=(u=e.token_meta)==null?void 0:u.entity)==null?void 0:d.name),1),r("h3",K,y((E=(m=e.token_meta)==null?void 0:m.entity)==null?void 0:E.artist),1),r("img",{src:h(l),style:{"max-width":"100%","max-height":"200px",padding:"8px 0px"}},null,8,O),((T=h(t).name)==null?void 0:T.toString())!="bid"?(a(),s(k,{key:0},[r("div",X,[e.token_meta.entity.permission_to_sell?(a(),s("h2",Y,y(o.value),1)):p("",!0),(B=e.token_meta)!=null&&B.entity.permission_to_sell?(a(),N(_,{key:1,color:"#000000",size:"small",style:{"margin-left":"12px","font-size":"14px"},round:"",onClick:c[0]||(c[0]=ne=>h(n).push({name:"bid",params:{token_meta_id:h(t).params.token_meta_id}}))},{default:$(()=>[H("Place A Bid")]),_:1})):p("",!0)]),v(G,{description:(L=(C=e.token_meta)==null?void 0:C.entity)==null?void 0:L.description},null,8,["description"])],64)):p("",!0)],64)}}});const ee=r("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"},null,-1),te={class:"container"},ce=x({__name:"QrLandingView",setup(f){const t=R(),n=w(),i=w();S(async()=>{if(!t.params.token_meta_id||t.params.token_meta_id instanceof Array){g("Error invalid token meta id");return}l(t.params.token_meta_id)}),z(()=>t.params.token_meta_id,(o,e)=>{if(!o||o instanceof Array){g("Error invalid token meta id");return}o!==e&&l(o)});const l=async o=>{n.value=void 0,i.value=F.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),await q(o,e=>{n.value=e}).catch(e=>{g(`Error fetching token meta: ${e}`)}).finally(()=>{i.value.close()})};return(o,e)=>{const c=V("RouterView");return a(),s(k,null,[ee,r("div",te,[n.value?(a(),s(k,{key:0},[v(Z,{token_meta:n.value},null,8,["token_meta"]),v(Q,{name:"fade",mode:"out-in"},{default:$(()=>[v(c,null,{default:$(({Component:_})=>[(a(),N(U(_),{token_meta:n.value},null,8,["token_meta"]))]),_:1})]),_:1})],64)):p("",!0)])],64)}}});export{ce as default};
