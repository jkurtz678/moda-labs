import{d as g,r as _,c as T,h as a,l as r,t as h,g as f,F as p,o,L as C,u as x,i as v,e as V,q as D,E as B,w as E,bE as M,f as N,a as R,bh as H}from"./index.54522f83.js";import{s as P}from"./util.e28b3603.js";import{P as L}from"./types.67d14e22.js";import{a as S}from"./thumbnail-image.c60830e8.js";import{h as A}from"./token-meta.9b03395e.js";import"./firebaseConfig.4d01e9b5.js";const F={key:0},Q={key:1},y=150,U=g({__name:"TruncatedDescription",props:{description:{}},setup(k){const t=k,e=_(!1),l=T(()=>t.description?e.value||t.description.length<y?t.description:`${t.description.substring(0,y)}...`:"No artwork description");return(s,n)=>(o(),a(p,null,[r("div",null,h(l.value),1),r("div",null,[s.description&&s.description.length>y?(o(),a("a",{key:0,onClick:n[0]||(n[0]=c=>e.value=!e.value),class:"link"},[e.value?(o(),a("span",F,"Less")):(o(),a("span",Q,"More"))])):f("",!0)])],64))}}),q={style:{"font-weight":"bold"}},I={style:{"font-weight":"bold"}},W=["src"],j={key:0,style:{"font-weight":"bold"}},z=g({__name:"ArtPreviewHeader",props:{token_meta:{}},setup(k){const t=V(),e=k,l=S(C(e,"token_meta")),s=T(()=>{var n,c,i,u,m,d;switch((c=(n=e.token_meta)==null?void 0:n.entity)==null?void 0:c.price_unit){case L.USD:return`$${(u=(i=e.token_meta)==null?void 0:i.entity)==null?void 0:u.price}`;case L.ETH:return`${(d=(m=e.token_meta)==null?void 0:m.entity)==null?void 0:d.price} ETH`;default:return""}});return(n,c)=>{var i,u,m,d,w,b,$;return o(),a(p,null,[r("h1",q,h((u=(i=n.token_meta)==null?void 0:i.entity)==null?void 0:u.name),1),r("h3",I,h((d=(m=n.token_meta)==null?void 0:m.entity)==null?void 0:d.artist),1),r("img",{src:x(l),style:{"max-width":"100%","max-height":"200px",padding:"10px 0px"}},null,8,W),((w=x(t).name)==null?void 0:w.toString())!="bid"?(o(),a(p,{key:0},[n.token_meta.entity.permission_to_sell?(o(),a("h2",j,h(s.value),1)):f("",!0),v(U,{description:($=(b=n.token_meta)==null?void 0:b.entity)==null?void 0:$.description},null,8,["description"])],64)):f("",!0)],64)}}});const G=r("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"},null,-1),J={class:"container"},te=g({__name:"QrLandingView",setup(k){const t=V();_(),_([]);const e=_(),l=_();return _(!1),D(async()=>{if(!t.params.token_meta_id||t.params.token_meta_id instanceof Array){P("Error invalid token meta id");return}l.value=B.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),console.log("route.params.token_meta_id",t.params.token_meta_id),await A(t.params.token_meta_id,s=>{e.value=s,l.value.close()})}),(s,n)=>{const c=N("RouterView");return o(),a(p,null,[G,r("div",J,[e.value?(o(),a(p,{key:0},[v(z,{token_meta:e.value},null,8,["token_meta"]),v(M,{name:"fade",mode:"out-in"},{default:E(()=>[v(c,null,{default:E(({Component:i})=>[(o(),R(H(i),{token_meta:e.value},null,8,["token_meta"]))]),_:1})]),_:1})],64)):f("",!0)])],64)}}});export{te as default};
