import{s as y}from"./util.7cb25047.js";import{P,_ as h,f as C,p as B,b as E,i as c}from"./firebaseConfig.4d01e9b5.js";import{d as I,r as _,O as M,h as N,i as d,j as t,w as s,e as S,b as U,f as p,o as R,k,u as w,x as L}from"./index.c76bb0ca.js";import{B as $}from"./types.4ea69ea7.js";const F=P(C),Q=h(F,"sales-inquiry"),T=async f=>{const n=await B(Q,{...$.createBaseEntity(),...f}),r=await E(n);return{id:n.id,entity:r.data()}};const j={class:"bid-form"},A={style:{display:"flex","padding-bottom":"80px"}},H=I({__name:"QrLandingSalesInquiry",props:{token_meta:{}},setup(f){const n=f,r=S(),g=U(),b=_(),a=_({token_meta_id:"",name:"",email:"",phone_number:"",message:"",created_at:c.now(),updated_at:c.now()}),V=M({name:[{required:!0,message:"Please enter your full name",trigger:"blur"}],email:[{required:!0,message:"Please enter your email",trigger:"blur"},{type:"email",message:"Please enter a valid email address",trigger:["blur","change"]}],phone_number:[{required:!0,message:"Please enter your phone number",trigger:"blur"},{pattern:/^\d{10}$/,message:"Please enter a valid 10-digit phone number",trigger:"blur"}]}),u=_(!1),x=async i=>{if(console.log("submit called"),!i){y("Error finding form element");return}!await i.validate(o=>o)||(u.value=!0,a.value.token_meta_id=n.token_meta.id,await T(a.value).then(()=>{u.value=!1,i.resetFields(),L({type:"success",message:"Successfully submitted inquiry!"}),g.push({name:"actions",params:{token_meta_id:r.params.token_meta_id}})}).catch(o=>{u.value=!1,y(o)}))};return(i,e)=>{const o=p("el-input"),m=p("el-form-item"),v=p("el-button"),q=p("el-form");return R(),N("div",null,[d("div",j,[e[8]||(e[8]=d("h3",{style:{"font-weight":"bold"}},"Purchase Inquiry",-1)),e[9]||(e[9]=d("div",{style:{"padding-bottom":"15px"}},"Please provide your details, and we\u2019ll contact you soon about purchasing this artwork.",-1)),t(q,{ref_key:"formRef",ref:b,model:a.value,rules:V,"label-width":"160px","label-position":"left"},{default:s(()=>[t(m,{label:"Full Name",prop:"name"},{default:s(()=>[t(o,{modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.name=l)},null,8,["modelValue"])]),_:1}),t(m,{label:"Email",prop:"email"},{default:s(()=>[t(o,{modelValue:a.value.email,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.email=l),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),t(m,{label:"Phone",prop:"phone_number"},{default:s(()=>[t(o,{modelValue:a.value.phone_number,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.phone_number=l),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),t(m,{label:"Message",prop:"message"},{default:s(()=>[t(o,{modelValue:a.value.message,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.message=l),type:"textarea"},null,8,["modelValue"])]),_:1}),d("div",A,[t(v,{loading:u.value,onClick:e[4]||(e[4]=l=>x(b.value)),class:"submit-button",color:"#000000",round:"",style:{"flex-grow":"1"}},{default:s(()=>e[6]||(e[6]=[k(" SUBMIT ")])),_:1},8,["loading"]),t(v,{onClick:e[5]||(e[5]=l=>w(g).push({name:"actions",params:{token_meta_id:w(r).params.token_meta_id}})),class:"submit-button",round:"",style:{"flex-grow":"1"}},{default:s(()=>e[7]||(e[7]=[k(" CANCEL ")])),_:1})])]),_:1},8,["model","rules"])])])}}});export{H as default};
