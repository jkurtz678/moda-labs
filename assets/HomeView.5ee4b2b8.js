import{u as S,_ as T,a as B,b as M,c as A}from"./token-meta.d97b67e0.js";import{d as x,u as q,a as D,c as I,r as n,o as m,b as g,e as a,f as V,g as L,F as v,h as s,w as l,i as f,t as P,j as C,_ as U,k as F,E as H,l as j,R as O}from"./index.00ffcaa1.js";import{u as E}from"./account.9f24488b.js";import{u as z}from"./plaque.f7063f05.js";import{s as h}from"./util.ed09db8d.js";import"./token-meta.ef55c9bb.js";import"./plaque.0fbc1517.js";const G={style:{display:"flex","align-items":"center"}},J=f("div",{style:{"flex-grow":"1"}},null,-1),K=C(" Cancel "),Q=f("div",{style:{"flex-grow":"1"}},null,-1),W={style:{"margin-right":"10px"}},X=C("Logout"),Y=x({setup($){const o=q(),p=D(),c=E(),{width:k,screen_type:_}=S(),i=(t,e)=>{t.paneName&&typeof t.paneName=="string"&&o.push({name:t.paneName})},r=I(()=>{var e;const t=(e=c.account)==null?void 0:e.entity.wallet_address;return t?`${t.substring(0,6)}...${t.substring(t.length-4)}`:""}),u=()=>{c.logout(),o.push({name:"landing",query:{redir:window.location.href}})},d=t=>new URL({"../assets/base.css":T,"../assets/logo.png":B,"../assets/logo.svg":M}[`../assets/${t}`],self.location).href;return(t,e)=>{const N=n("el-image"),w=n("el-button"),y=n("el-tab-pane"),R=n("el-tabs");return m(),g("div",G,[a(_)!="xs"?(m(),V(N,{key:0,src:d("logo.png"),style:{width:"43px",height:"43px","margin-right":"2em"}},null,8,["src"])):L("",!0),a(o).currentRoute.value.name=="qr-scan"?(m(),g(v,{key:1},[J,s(w,{icon:"close",onClick:e[0]||(e[0]=b=>a(o).push("plaque-list"))},{default:l(()=>[K]),_:1})],64)):(m(),g(v,{key:2},[s(R,{modelValue:a(p).name,"onUpdate:modelValue":e[1]||(e[1]=b=>a(p).name=b),onTabClick:i},{default:l(()=>[s(y,{label:"Plaques",name:"plaque-list"}),s(y,{label:"Tokens",name:"token-list"})]),_:1},8,["modelValue"]),Q,f("div",W,P(a(r)),1),s(w,{onClick:u,style:{"margin-left":"1em"}},{default:l(()=>[X]),_:1})],64))])}}});const Z=x({setup($){const o=E(),p=z(),c=A(),k=q();return F(async()=>{const _=H.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),i=window.localStorage.getItem("account_address"),r=window.localStorage.getItem("account_signature");if(i==null||r==null){k.push({name:"landing"}),_.close();return}if(await o.loadAccount(i,r),o.account==null){j("Error - failed to load account");return}const u=p.loadPlaques(o.account.entity.wallet_address).catch(e=>h(`Error loading plaques - ${e}`)),d=c.loadArchiveTokenMetas(o.get_account.entity.wallet_address).catch(e=>h(`Error loading archive token metas - ${e}`)),t=c.loadOpenseaTokenMetas(o.get_account.entity.wallet_address).catch(e=>h(`Error loading opensea tokens - ${e}`));await Promise.all([u,d,t]),_.close()}),(_,i)=>{const r=n("el-header"),u=n("el-main"),d=n("el-container");return m(),V(d,{style:{height:"100%"}},{default:l(()=>[s(r,{class:"header"},{default:l(()=>[s(Y)]),_:1}),s(u,{style:{"background-color":"#DAD9D7"}},{default:l(()=>[s(a(O))]),_:1})]),_:1})}}});var le=U(Z,[["__scopeId","data-v-e39917ac"]]);export{le as default};
