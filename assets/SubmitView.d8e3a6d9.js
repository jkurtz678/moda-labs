import{d as c,r as i,m as u,E as r,h as m,i as l,u as d,a as p,g,b as f,o as n}from"./index.023502ce.js";import{u as h}from"./account.cd7e686e.js";import{s as b}from"./util.e129e321.js";import{S as k}from"./SubmitTokenForm.3b9292e2.js";import{o as v,a as _}from"./firebaseConfig.4d01e9b5.js";import"./types.1a161a7e.js";import"./gallery-token.81532f70.js";import"./token-meta.68ad47b5.js";import"./token-meta.9470345a.js";const x={style:{padding:"20px"}},N=c({__name:"SubmitView",setup(y){const s=f(),t=h(),o=i();return u(async()=>{o.value=r.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),v(_,async a=>{a?(o.value=r.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),await t.loadAccount(a.uid).catch(e=>{b(`Error loading moda archive account - ${e}`)}),o.value.close()):(t.setAccount(null),o.value.close(),s.push({name:"login",query:{redir:window.location.href}}))})}),(a,e)=>(n(),m("div",x,[e[0]||(e[0]=l("h1",{style:{"margin-bottom":"15px"}},"Submit To MoDA Archives",-1)),d(t).account?(n(),p(k,{key:0})):g("",!0)]))}});export{N as default};
