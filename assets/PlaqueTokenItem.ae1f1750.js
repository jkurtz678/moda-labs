import{c as N,d as R}from"./types.6a5ef88e.js";import{s as F}from"./util.0288e7af.js";import{d as S,u as V,r as q,L as I,c as d,b as f,o as s,h as l,k as t,i as o,w as p,f as i,t as r,g as u,F as M}from"./index.6336a010.js";import{u as W}from"./thumbnail-image.1a6829e1.js";const j={class:"card-flex-container"},Q={key:0,style:{display:"flex"}},z={style:{display:"flex","align-items":"center",margin:"5px 25px 5px 5px"}},G={style:{display:"flex","flex-direction":"column","justify-content":"center"}},H={class:"bold"},J={class:"bold"},K={key:0,style:{display:"flex","align-items":"top","text-align":"left"}},O={class:"card-flex-left"},U={class:"flex-column"},X=t("p",{class:"card-title"},"Title",-1),Y={class:"bold bigger-font"},Z=["src"],tt={class:"card-flex-right"},et=t("p",{class:"card-title"},"Artist name",-1),nt={class:"bold bigger-font description"},ot={key:0},it={key:1},st=["href"],lt=["href"],at={style:{flex:"1","text-align":"right","padding-right":"1em","white-space":"nowrap"}},rt={style:{opacity:"0.5"}},ct=t("hr",null,null,-1),mt=S({__name:"PlaqueTokenItem",props:{token_meta:null},setup($){const e=$,y=V(),c=q(!1),m=q(!1),v=W(I(e,"token_meta")),A=d(()=>e.token_meta.entity.description?m.value||e.token_meta.entity.description.length<200?e.token_meta.entity.description:`${e.token_meta.entity.description.substring(0,200)}...`:"No artwork description"),B=d(()=>{const n=e.token_meta.entity.public_link;return n&&!n.startsWith("https://")?`https://${n}`:n}),D=d(()=>{const n=e.token_meta.entity.artist_social_link;return n&&!n.startsWith("https://")?`https://${n}`:n}),E=d(()=>N(e.token_meta.entity.platform)),g=d(()=>e.token_meta.entity),P=async()=>{const n=await R(e.token_meta);if(!n){F("Error getting source file");return}window.open(n,"_blank")},T=()=>{const n=y.resolve({name:"preview-plaque",params:{token_meta_id:e.token_meta.id}});window.open(n.href)};return(n,a)=>{const L=f("el-image"),x=f("el-collapse-transition"),k=f("el-button"),h=f("el-tooltip");return s(),l(M,null,[t("div",j,[t("div",null,[o(x,null,{default:p(()=>{var _,w,b,C;return[c.value?u("",!0):(s(),l("div",Q,[t("div",z,[o(L,{src:i(v),style:{width:"50px",height:"50px"},fit:"contain"},null,8,["src"])]),t("div",G,[t("div",H,r((w=(_=e.token_meta)==null?void 0:_.entity)==null?void 0:w.name),1),t("div",J,r((C=(b=e.token_meta)==null?void 0:b.entity)==null?void 0:C.artist),1)])]))]}),_:1}),o(x,null,{default:p(()=>[c.value?(s(),l("div",K,[t("div",O,[t("div",U,[X,t("div",Y,r(e.token_meta.entity.name),1),t("img",{style:{width:"150px"},src:i(v)},null,8,Z)])]),t("div",tt,[et,t("div",nt,r(e.token_meta.entity.artist),1),t("div",null,r(i(A)),1),t("div",null,[e.token_meta.entity.description&&e.token_meta.entity.description.length>200?(s(),l("a",{key:0,onClick:a[0]||(a[0]=_=>m.value=!m.value),class:"link"},[m.value?(s(),l("span",ot,"Less")):(s(),l("span",it,"More"))])):u("",!0)]),t("div",null,[i(g).public_link?(s(),l("a",{key:0,href:i(B),target:"_blank"},"QR Code Link",8,st)):u("",!0)]),t("div",null,[i(g).artist_social_link?(s(),l("a",{key:0,href:i(D),target:"_blank"},"Artist Social Media Link",8,lt)):u("",!0)])])])):u("",!0)]),_:1})]),t("div",at,[o(h,{class:"box-item",effect:"dark",content:"Download art",placement:"top"},{default:p(()=>[o(k,{icon:"Download",text:"",circle:"",onClick:P})]),_:1}),o(h,{class:"box-item",effect:"dark",content:"Preview plaque",placement:"top"},{default:p(()=>[o(k,{icon:"Tickets",text:"",circle:"",onClick:T})]),_:1}),o(h,{class:"box-item",effect:"dark",content:"Edit art data",placement:"top"},{default:p(()=>[o(k,{icon:"Edit",text:"",circle:"",onClick:a[1]||(a[1]=_=>i(y).push({name:"edit-token",params:{token_meta_id:e.token_meta.id}}))})]),_:1}),o(k,{icon:c.value?"ArrowDownBold":"ArrowRightBold",onClick:a[2]||(a[2]=_=>c.value=!c.value),text:"",circle:""},null,8,["icon"]),t("div",rt,r(i(E)),1)])]),ct],64)}}});export{mt as _};
