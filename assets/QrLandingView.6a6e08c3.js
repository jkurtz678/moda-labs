import{d as $,r as w,c as M,h as r,i as l,t as y,g as p,F as k,o as a,J as A,u as v,a as V,w as x,j as h,e as N,b as P,f as R,k as z,_ as H,m as Q,z as S,E as F,bM as I,bn as U}from"./index.6bbf1beb.js";import{s as g}from"./util.576107d2.js";import{P as D}from"./types.903c99bc.js";import{a as j}from"./thumbnail-image.086893b2.js";import{h as J}from"./token-meta.3b6b8610.js";import"./firebaseConfig.4d01e9b5.js";const W={key:0},q={key:1},b=150,G=$({__name:"TruncatedDescription",props:{description:{}},setup(f){const t=f,n=w(!1),s=M(()=>t.description?n.value||t.description.length<b?t.description:`${t.description.substring(0,b)}...`:"No artwork description");return(_,o)=>(a(),r(k,null,[l("div",null,y(s.value),1),l("div",null,[_.description&&_.description.length>b?(a(),r("a",{key:0,onClick:o[0]||(o[0]=e=>n.value=!n.value),class:"link"},[n.value?(a(),r("span",W,"Less")):(a(),r("span",q,"More"))])):p("",!0)])],64))}}),K={style:{"font-weight":"bold"}},O={style:{"font-weight":"bold"}},X=["src"],Y={style:{display:"flex","align-items":"center"}},Z={key:0,style:{"font-weight":"bold"}},ee=$({__name:"ArtPreviewHeader",props:{token_meta:{}},setup(f){const t=N(),n=P(),s=f,_=j(A(s,"token_meta")),o=M(()=>{var e,i,u,c,d,m;switch((i=(e=s.token_meta)==null?void 0:e.entity)==null?void 0:i.price_unit){case D.USD:return`$${(c=(u=s.token_meta)==null?void 0:u.entity)==null?void 0:c.price}`;case D.ETH:return`${(m=(d=s.token_meta)==null?void 0:d.entity)==null?void 0:m.price} ETH`;default:return""}});return(e,i)=>{var c,d,m,E,T,C,L,B;const u=R("el-button");return a(),r(k,null,[l("h1",K,y((d=(c=e.token_meta)==null?void 0:c.entity)==null?void 0:d.name),1),l("h3",O,y((E=(m=e.token_meta)==null?void 0:m.entity)==null?void 0:E.artist),1),l("img",{src:v(_),style:{"max-width":"100%","max-height":"200px",padding:"8px 0px"}},null,8,X),((T=v(t).name)==null?void 0:T.toString())!="bid"?(a(),r(k,{key:0},[l("div",Y,[e.token_meta.entity.permission_to_sell?(a(),r("h2",Z,y(o.value),1)):p("",!0),(C=e.token_meta)!=null&&C.entity.permission_to_sell?(a(),V(u,{key:1,color:"#000000",size:"small",style:{"margin-left":"12px","font-size":"14px"},round:"",onClick:i[0]||(i[0]=oe=>v(n).push({name:"bid",params:{token_meta_id:v(t).params.token_meta_id}}))},{default:x(()=>i[1]||(i[1]=[z("Place A Bid")])),_:1})):p("",!0)]),h(G,{description:(B=(L=e.token_meta)==null?void 0:L.entity)==null?void 0:B.description},null,8,["description"])],64)):p("",!0)],64)}}});const te={class:"container"},ne=$({__name:"QrLandingView",setup(f){const t=N(),n=w(),s=w();Q(async()=>{if(!t.params.token_meta_id||t.params.token_meta_id instanceof Array){g("Error invalid token meta id");return}_(t.params.token_meta_id)}),S(()=>t.params.token_meta_id,(o,e)=>{if(!o||o instanceof Array){g("Error invalid token meta id");return}o!==e&&_(o)});const _=async o=>{n.value=void 0,s.value=F.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"}),await J(o,e=>{n.value=e}).catch(e=>{g(`Error fetching token meta: ${e}`)}).finally(()=>{s.value.close()})};return(o,e)=>{const i=R("RouterView");return a(),r(k,null,[e[0]||(e[0]=l("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"},null,-1)),l("div",te,[n.value?(a(),r(k,{key:0},[h(ee,{token_meta:n.value},null,8,["token_meta"]),h(I,{name:"fade",mode:"out-in"},{default:x(()=>[h(i,null,{default:x(({Component:u})=>[(a(),V(U(u),{token_meta:n.value},null,8,["token_meta"]))]),_:1})]),_:1})],64)):p("",!0)])],64)}}});var ue=H(ne,[["__scopeId","data-v-30b14ba0"]]);export{ue as default};
