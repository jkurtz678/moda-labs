import{c as s,u as c}from"./plaque.f697ad87.js";import{x as a,y as u}from"./index.13bbce9c.js";async function m(r,o){const t=await s(o).catch(e=>{console.log("QrScan.onDecode error - ",e),a({message:`Error adding loading plaque when trying to add - ${e}`,type:"error",showClose:!0,duration:12e3})});if(!t)return!1;const n=await u.prompt("Give your plaque a name so you can remember it.","Name your plaque",{confirmButtonText:"Save",cancelButtonText:"Cancel",inputPattern:/\S+/,inputErrorMessage:"Name cannot be empty"}).then(e=>{if(e.action==="confirm")return e.value}).catch(e=>{console.log("QrScan.onDecode error - ",e)});return n?(t.entity.name=n,await c(o,{user_id:r,name:t.entity.name}).then(e=>{a({message:`Connected to plaque ${e.entity.name}`,type:"success",showClose:!0,duration:6e3})}).catch(e=>{a({message:`Error adding account to plaque - ${e}`,type:"error",showClose:!0,duration:12e3})}),!0):(a({message:"QR scan cancelled",type:"error",showClose:!0,duration:12e3}),!1)}export{m as a};
